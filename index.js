!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--b&&0===m&&j()}(e,n),t&&t(e,n)};var n,r=!0,o="a968473a334457ee47a5",i={},a=[],c=[];function u(e){var t=R[e];if(!t)return A;var r=function(r){return t.hot.active?(R[r]?-1===R[r].parents.indexOf(e)&&R[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),A(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===f&&h("prepare"),m++,A.e(e).then(t,(function(e){throw t(),e}));function t(){m--,"prepare"===f&&(w[e]||k(e),0===m&&0===b&&j())}},r.t=function(e,t){return 1&t&&(e=r(e)),A.t(e,-2&t)},r}function s(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(y={})[t]=e[t],h("ready");break;case"ready":E(t);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(t)}},check:_,apply:P,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[t]};return n=void 0,r}var l=[],f="idle";function h(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,y,d,v,b=0,m=0,w={},g={},x={};function O(e){return+e+""===e?+e:e}function _(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=A.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return h(S()?"ready":"idle"),null;g={},w={},x=e.c,d=e.h,h("prepare");var t=new Promise((function(e,t){p={resolve:e,reject:t}}));y={};return k(0),"prepare"===f&&0===m&&0===b&&j(),t}));var t}function k(e){x[e]?(g[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=A.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function j(){h("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then((function(){return P(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(O(n));e.resolve(t)}}function P(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(r){var c,u,s,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((l=R[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<l.parents.length;c++){var u=l.parents[c],s=R[u];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),b(n[u],[i])):(delete n[u],t.push(u),r.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}S();var m={},w=[],g={},_=function(){console.warn("[HMR] unexpected require("+j.moduleId+") to disposed module")};for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)){var j;f=O(k),j=y[k]?p(f):{type:"disposed",moduleId:k};var P=!1,E=!1,I=!1,C="";switch(j.chain&&(C="\nUpdate propagation: "+j.chain.join(" -> ")),j.type){case"self-declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(P=new Error("Aborted because of self decline: "+j.moduleId+C));break;case"declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(P=new Error("Aborted because of declined dependency: "+j.moduleId+" in "+j.parentId+C));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(j),r.ignoreUnaccepted||(P=new Error("Aborted because "+f+" is not accepted"+C));break;case"accepted":r.onAccepted&&r.onAccepted(j),E=!0;break;case"disposed":r.onDisposed&&r.onDisposed(j),I=!0;break;default:throw new Error("Unexception type "+j.type)}if(P)return h("abort"),Promise.reject(P);if(E)for(f in g[f]=y[f],b(w,j.outdatedModules),j.outdatedDependencies)Object.prototype.hasOwnProperty.call(j.outdatedDependencies,f)&&(m[f]||(m[f]=[]),b(m[f],j.outdatedDependencies[f]));I&&(b(w,[j.moduleId]),g[f]=_)}var D,M=[];for(u=0;u<w.length;u++)f=w[u],R[f]&&R[f].hot._selfAccepted&&g[f]!==_&&!R[f].hot._selfInvalidated&&M.push({module:f,parents:R[f].parents.slice(),errorHandler:R[f].hot._selfAccepted});h("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)}));var T,H,B=w.slice();for(;B.length>0;)if(f=B.pop(),l=R[f]){var U={},X=l.hot._disposeHandlers;for(s=0;s<X.length;s++)(c=X[s])(U);for(i[f]=U,l.hot.active=!1,delete R[f],delete m[f],s=0;s<l.children.length;s++){var Y=R[l.children[s]];Y&&((D=Y.parents.indexOf(f))>=0&&Y.parents.splice(D,1))}}for(f in m)if(Object.prototype.hasOwnProperty.call(m,f)&&(l=R[f]))for(H=m[f],s=0;s<H.length;s++)T=H[s],(D=l.children.indexOf(T))>=0&&l.children.splice(D,1);h("apply"),void 0!==d&&(o=d,d=void 0);for(f in y=void 0,g)Object.prototype.hasOwnProperty.call(g,f)&&(e[f]=g[f]);var L=null;for(f in m)if(Object.prototype.hasOwnProperty.call(m,f)&&(l=R[f])){H=m[f];var q=[];for(u=0;u<H.length;u++)if(T=H[u],c=l.hot._acceptedDependencies[T]){if(-1!==q.indexOf(c))continue;q.push(c)}for(u=0;u<q.length;u++){c=q[u];try{c(H)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:f,dependencyId:H[u],error:e}),r.ignoreErrored||L||(L=e)}}}for(u=0;u<M.length;u++){var V=M[u];f=V.module,a=V.parents,n=f;try{A(f)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),r.ignoreErrored||L||(L=t),L||(L=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:f,error:e}),r.ignoreErrored||L||(L=e)}}if(L)return h("fail"),Promise.reject(L);if(v)return t(r).then((function(e){return w.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return h("idle"),new Promise((function(e){e(w)}))}(t=t||{})}function S(){if(v)return y||(y={}),v.forEach(E),v=void 0,!0}function E(t){Object.prototype.hasOwnProperty.call(y,t)||(y[t]=e[t])}var R={};function A(t){if(R[t])return R[t].exports;var n=R[t]={i:t,l:!1,exports:{},hot:s(t),parents:(c=a,a=[],c),children:[]};return e[t].call(n.exports,n,n.exports,u(t)),n.l=!0,n.exports}A.m=e,A.c=R,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)A.d(n,r,function(t){return e[t]}.bind(null,r));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A.h=function(){return o},u(317)(A.s=317)}({125:function(e){e.exports=JSON.parse('[{"name":"a","w":8,"h":10,"sx":0,"sy":0},{"name":"b","w":8,"h":10,"sx":8,"sy":0},{"name":"c","w":8,"h":10,"sx":16,"sy":0},{"name":"d","w":8,"h":10,"sx":24,"sy":0},{"name":"e","w":8,"h":10,"sx":32,"sy":0},{"name":"f","w":8,"h":10,"sx":40,"sy":0},{"name":"g","w":8,"h":10,"sx":48,"sy":0},{"name":"h","w":8,"h":10,"sx":56,"sy":0},{"name":"i","w":8,"h":10,"sx":64,"sy":0},{"name":"j","w":8,"h":10,"sx":72,"sy":0},{"name":"k","w":8,"h":10,"sx":0,"sy":10},{"name":"l","w":8,"h":10,"sx":8,"sy":10},{"name":"m","w":8,"h":10,"sx":16,"sy":10},{"name":"n","w":8,"h":10,"sx":24,"sy":10},{"name":"o","w":8,"h":10,"sx":32,"sy":10},{"name":"p","w":8,"h":10,"sx":40,"sy":20},{"name":"q","w":8,"h":10,"sx":40,"sy":10},{"name":"r","w":8,"h":10,"sx":48,"sy":10},{"name":"s","w":8,"h":10,"sx":56,"sy":10},{"name":"t","w":8,"h":10,"sx":64,"sy":10},{"name":"u","w":8,"h":10,"sx":72,"sy":10},{"name":"v","w":8,"h":10,"sx":0,"sy":20},{"name":"w","w":8,"h":10,"sx":8,"sy":20},{"name":"x","w":8,"h":10,"sx":16,"sy":20},{"name":"y","w":8,"h":10,"sx":24,"sy":20},{"name":"z","w":8,"h":10,"sx":32,"sy":20},{"name":"0","w":8,"h":10,"sx":0,"sy":30},{"name":"1","w":8,"h":10,"sx":8,"sy":30},{"name":"2","w":8,"h":10,"sx":16,"sy":30},{"name":"3","w":8,"h":10,"sx":24,"sy":30},{"name":"4","w":8,"h":10,"sx":32,"sy":30},{"name":"5","w":8,"h":10,"sx":40,"sy":30},{"name":"6","w":8,"h":10,"sx":48,"sy":30},{"name":"7","w":8,"h":10,"sx":56,"sy":30},{"name":"8","w":8,"h":10,"sx":64,"sy":30},{"name":"9","w":8,"h":10,"sx":72,"sy":30},{"name":".","w":8,"h":10,"sx":0,"sy":40},{"name":",","w":8,"h":10,"sx":8,"sy":40},{"name":":","w":8,"h":10,"sx":16,"sy":40},{"name":"?","w":8,"h":10,"sx":24,"sy":40},{"name":"!","w":8,"h":10,"sx":32,"sy":40},{"name":"(","w":8,"h":10,"sx":40,"sy":40},{"name":")","w":8,"h":10,"sx":48,"sy":40},{"name":"+","w":8,"h":10,"sx":56,"sy":40},{"name":"-","w":8,"h":10,"sx":64,"sy":40}]')},126:function(e){e.exports=JSON.parse('[{"name":"blue","w":64,"h":64,"sx":0,"sy":0},{"name":"brown","w":64,"h":64,"sx":64,"sy":0},{"name":"pink","w":64,"h":64,"sx":128,"sy":0},{"name":"gray","w":64,"h":64,"sx":0,"sy":64},{"name":"green","w":64,"h":64,"sx":64,"sy":64},{"name":"purple","w":64,"h":64,"sx":128,"sy":64},{"name":"yellow","w":64,"h":64,"sx":128,"sy":0}]')},317:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.x=t,this.y=n}var t,n,i;return t=e,(n=[{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new e(this.x+t,this.y+n)}},{key:"addVector",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new e(this.x-t,this.y-n)}},{key:"subtractVector",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new e(this.x*t,this.y*t)}},{key:"divide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new e(this.x/t,this.y/t)}},{key:"ceil",value:function(){return new e(Math.ceil(this.x),Math.ceil(this.y))}},{key:"floor",value:function(){return new e(Math.floor(this.x),Math.floor(this.y))}},{key:"round",value:function(){return new e(Math.fround(this.x),Math.fround(this.y))}}])&&o(t.prototype,n),i&&o(t,i),e}();function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activities=[],this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.elapsedSecs=0,this.lastUpdate=-1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.canvas.onclick=function(e){var t,r=a(n.activities.reverse());try{for(r.s();!(t=r.n()).done;){var o=t.value;if(0!==e.button)break;var c=new i(e.pageX,e.pageY).subtract(n.canvas.offsetLeft,n.canvas.offsetTop).multiply(540/n.canvas.offsetWidth),u=c.addVector(o.camera);if(!o.handleClick(c,u))break}}catch(e){r.e(e)}finally{r.f()}}}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this,t=Date.now();if(-1!==this.lastUpdate){var n=-1===this.lastUpdate?0:t-this.lastUpdate;this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.activities.forEach((function(t){t.update(n),t.render(e.ctx)}))}this.lastUpdate=t,requestAnimationFrame(this.update.bind(this))}},{key:"addActivity",value:function(e){this.activities.push(e),e.app=this}}])&&u(t.prototype,n),r&&u(t,r),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hidden=!1,this._absolute=!1,this._scale=1,this._rotate=0,this._hue=0,this._brightness=1,this._contrast=1,this._grayscale=!1}var t,n,r;return t=e,r=[{key:"hidden",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).hidden(t)}},{key:"absolute",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).absolute(t)}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).scale(t)}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).rotate(t)}},{key:"hue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).hue(t)}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).brightness(t)}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).contrast(t)}},{key:"grayscale",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).grayscale(t)}}],(n=[{key:"hidden",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=e,this}},{key:"absolute",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._absolute=e,this}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._scale=e,this}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._rotate=e,this}},{key:"hue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._hue=e,this}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._brightness=e,this}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._contrast=e,this}},{key:"grayscale",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._grayscale=e,this}},{key:"applyFilter",value:function(e){0!==this._rotate&&e.rotate(-this._rotate),0!==this._hue&&(e.filter+=" hue-rotate(".concat(this._hue,"deg) ")),1!==this._brightness&&(e.filter+=" brightness(".concat(this._brightness,") ")),1!==this._contrast&&(e.filter+=" brightness(".concat(this._contrast,") ")),this._grayscale&&(e.filter+=" grayscale(1) ")}}])&&l(t.prototype,n),r&&l(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=b(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return y(this,i),(e=o.call(this)).children=[],e.renderOption=t||new f,e}return t=i,(n=[{key:"update",value:function(e){this.children.forEach((function(t){t.update(e)}))}},{key:"render",value:function(e){this.children.forEach((function(t){t.render(e)}))}},{key:"destroy",value:function(){}},{key:"handleClick",value:function(e,t){return!1}},{key:"isAbsolute",value:function(){return this.renderOption._absolute}}])&&d(t.prototype,n),r&&d(t,r),i}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"handleClick",value:function(e,t){return!1}}])&&h(t.prototype,n),r&&h(t,r),e}());function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o=P(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).app=null,e.hidden=!1,e.camera=new i(0,0),e}return t=a,(n=[{key:"addWidget",value:function(e){this.children.push(e),e.app=this.app,e.activity=this}},{key:"render",value:function(e){this.hidden||(e.save(),e.translate(-this.camera.x,-this.camera.y),this.children.forEach((function(t){t.isAbsolute()||t.render(e)})),e.restore(),this.children.forEach((function(t){t.isAbsolute()&&t.render(e)})))}},{key:"handleClick",value:function(e,t){var n,r=O(this.children);try{for(r.s();!(n=r.n()).done;)if(n.value.handleClick(e,t))return!0}catch(e){r.e(e)}finally{r.f()}return!1}}])&&k(t.prototype,n),r&&k(t,r),a}(g);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;A(this,e),this.image=null,this.w=t,this.h=n,this.sx=r,this.sy=o,this.ox=i,this.oy=a}var t,n,r;return t=e,r=[{key:"fromJson",value:function(t){return new e(t.w||0,t.h||0,t.sx||0,t.sy||0,t.ox||0,t.oy||0)}}],(n=[{key:"draw",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!==this.image){if(null===r)r=new f;else if(r._hidden)return;e.save(),r.applyFilter(e),e.translate(t,n),e.drawImage(this.image,this.sx,this.sy,this.w,this.h,-this.ox*r._scale,-this.oy*r._scale,this.w*r._scale,this.h*r._scale),e.restore()}}}])&&I(t.prototype,n),r&&I(t,r),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=new Image,this.image.src=t,this.sprites=[],this.names=[],n.forEach((function(e){var t=C.fromJson(e);t.image=r.image;var n=r.sprites.length;r.sprites[n]=t,e.hasOwnProperty("name")&&(r.names[n]=e.name.toLowerCase())}))}var t,n,r;return t=e,(n=[{key:"get",value:function(e){return this.sprites[this.names.indexOf(e.toLowerCase())]||null}},{key:"random",value:function(){return this.sprites[Math.floor(Math.random()*this.sprites.length)]||null}}])&&D(t.prototype,n),r&&D(t,r),e}(),T=n.p+"dabbf6f039293f5fb010f850e89e6ea9.png",H=n(125),B=n.p+"48d13a68747f46f4bea77f7edeb9c692.png",U=n(126),X=new M(T,H),Y=new M(B,U);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,e);var t,n,r,o=N(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return q(this,a),(e=o.call(this,n)).app=null,e.activity=null,e.pos=t||new i(0,0),e.onClick=null,e}return t=a,(n=[{key:"handleClick",value:function(e,t){if(null===this.onClick)return!1;var n=this.getBoundingBox();return null!==n&&!!n.isVectorInside(this.isAbsolute()?e:t)&&this.onClick(e,t)}},{key:"getBoundingBox",value:function(){return null}}])&&V(t.prototype,n),r&&V(t,r),a}(g);function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;z(this,e),this.minX=Math.min(t,r),this.minY=Math.min(n,o),this.maxX=Math.max(t,r),this.maxY=Math.max(n,o)}var t,n,r;return t=e,r=[{key:"fromVector2",value:function(t,n){return new e(t.x,t.y,n.x,n.y)}}],(n=[{key:"isInside",value:function(e,t){return this.minX<e&&this.maxX>e&&this.minY<t&&this.maxY>t}},{key:"isVectorInside",value:function(e){return this.minX<e.x&&this.maxX>e.x&&this.minY<e.y&&this.maxY>e.y}},{key:"getXLength",value:function(){return this.maxX-this.minX}},{key:"getYLength",value:function(){return this.maxY-this.minY}}])&&G(t.prototype,n),r&&G(t,r),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return(re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,n,r,o=ie(i);function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return te(this,i),(n=o.call(this,e,r)).text=t,n}return t=i,(n=[{key:"render",value:function(e){for(var t=this.renderOption._scale,n=this.text.split("\n"),r=n.length,o=0;o<r;++o)for(var a=n[o],c=a.length,u=0;u<c;++u){var s=X.get(a.charAt(u));null!==s&&s.draw(e,this.pos.x-8*t*c/2+u*t*8,this.pos.y-10*t*r/2+o*t*10,this.renderOption)}re(ce(i.prototype),"render",this).call(this,e)}},{key:"getBoundingBox",value:function(){var e,t=this.renderOption._scale,n=this.text.split("\n"),r=0,o=10*n.length*t,i=Z(n);try{for(i.s();!(e=i.n()).done;){var a=8*e.value.length*t;r<a&&(r=a)}}catch(e){i.e(e)}finally{i.f()}return new K(this.pos.x-r/2,this.pos.y-o/2,this.pos.x+r/2,this.pos.y+o/2)}}])&&ne(t.prototype,n),r&&ne(t,r),i}($);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,r,o=ye(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return le(this,a),(n=o.call(this,t,r)).sprite=e,n}return t=a,(n=[{key:"render",value:function(e){var t=new i(-this.sprite.w-(this.pos.x+this.activity.camera.x)%this.sprite.w-this.sprite.h-(this.pos.y+this.activity.camera.y)%this.sprite.h),n=new i(540+this.sprite.w,540+this.sprite.h);this.isAbsolute()||(t.x+=this.activity.camera.x,t.y+=this.activity.camera.y,n.x+=this.activity.camera.x,n.y+=this.activity.camera.y);for(var r=t.x;r<n.x;r+=this.sprite.w)for(var o=t.y;o<n.y;o+=this.sprite.h)this.sprite.draw(e,r,o,this.renderOption);he(ve(a.prototype),"render",this).call(this,e)}}])&&fe(t.prototype,n),r&&fe(t,r),a}($);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(a,e);var t,n,r,o=Oe(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this)).addWidget(new be(Y.random())),e.addWidget(new ue(new i(270,40),"random race",f.scale(3).absolute(!0))),e}return t=a,(n=[{key:"update",value:function(e){this.camera.x+=e/10,ge(ke(a.prototype),"update",this).call(this,e)}}])&&we(t.prototype,n),r&&we(t,r),a}(R);document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("canvas");e.width=540,e.height=540,e.id="game",document.body.append(e);var t=new s(e);t.addActivity(new je),t.update()}))}});