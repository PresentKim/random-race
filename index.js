!function(){var t,e,n,r,i={4264:function(t,e,n){t.exports=n(7588)},8446:function(t,e){"use strict";var n=window.document,r=new(function(){function t(){this.isEnabled=!1,this.elementProperty="",this.requestMethod="",this.exitMethod="",this.changeEvent="",this.errorEvent=""}return Object.defineProperty(t.prototype,"isFullscreen",{get:function(){return Boolean(this.element)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return n[this.elementProperty]},enumerable:!1,configurable:!0}),t.prototype.request=function(t){return!!(t=void 0===t?n.documentElement:t)[this.requestMethod]&&(t[this.requestMethod](),!0)},t.prototype.exit=function(){return!!n[this.exitMethod]&&(n[this.exitMethod](),!0)},t.prototype.onChange=function(t){return!!this.isEnabled&&(n.addEventListener(this.changeEvent,t,!1),!0)},t.prototype.onError=function(t){return!!this.isEnabled&&(n.addEventListener(this.errorEvent,t,!1),!0)},t.prototype.toggle=function(t){return void 0===t&&(t=n.documentElement),this.isFullscreen?this.exit():this.request(t)},t}());n.fullscreenEnabled?(r.isEnabled=n.fullscreenEnabled,r.elementProperty="fullscreenElement",r.requestMethod="requestFullscreen",r.exitMethod="exitFullscreen",r.changeEvent="fullscreenchange",r.errorEvent="fullscreenerror"):n.webkitFullscreenEnabled||n.webkitCancelFullScreen?(r.isEnabled=n.fullscreenEnabled||Boolean(n.webkitCancelFullScreen),r.requestMethod="webkitRequestFullScreen",r.changeEvent="webkitfullscreenchange",r.errorEvent="webkitfullscreenerror",n.webkitFullscreenEnabled?(r.elementProperty="webkitFullscreenElement",r.exitMethod="webkitExitFullscreen"):(r.elementProperty="webkitCurrentFullScreenElement",r.exitMethod="webkitCancelFullScreen")):n.msFullscreenEnabled?(r.isEnabled=n.msFullscreenEnabled,r.elementProperty="msFullscreenElement",r.requestMethod="msRequestFullscreen",r.exitMethod="msExitFullscreen",r.changeEvent="MSFullscreenChange",r.errorEvent="MSFullscreenError"):n.mozFullScreenEnabled&&(r.isEnabled=n.mozFullScreenEnabled,r.elementProperty="mozFullScreenElement",r.requestMethod="mozRequestFullScreen",r.exitMethod="mozCancelFullScreen",r.changeEvent="mozfullscreenchange",r.errorEvent="mozfullscreenerror"),e.Z=r},7588:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=R(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var w={};w[o]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(C([])));b&&b!==n&&r.call(b,o)&&(w=b);var k=g.prototype=y.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,u){var c=l(t[i],t,o);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(h).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function R(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function C(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return m.prototype=k.constructor=g,g.constructor=m,m.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},O(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(k),c(k,u,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},5171:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(t){a(o,r,i,u,c,"next",t)}function c(t){a(o,r,i,u,c,"throw",t)}u(void 0)}))}}var c=n(4264),s=n.n(c);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var d=function(){function t(e,n){l(this,t),this.data=e,this.setImage(n)}return f(t,[{key:"setImage",value:function(t){return t instanceof HTMLImageElement?this.image=t:"string"==typeof t?(this.image=new Image,this.image.src=t):this.image=null,this}},{key:"draw",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.image&&this.image.complete&&0!==this.image.naturalHeight){var r=p.from(e);t.save(),t.translate(0|r.x,0|r.y),t.drawImage(this.image,0|this.sx,0|this.sy,0|this.sw,0|this.sh,this.mx*n|0,this.my*n|0,this.sw*n|0,this.sh*n|0),t.restore()}}},{key:"sw",get:function(){return this.data.sw}},{key:"sh",get:function(){return this.data.sh}},{key:"sx",get:function(){return this.data.sx}},{key:"sy",get:function(){return this.data.sy}},{key:"tx",get:function(){return this.data.tx}},{key:"ty",get:function(){return this.data.ty}},{key:"ow",get:function(){return this.data.ow}},{key:"oh",get:function(){return this.data.oh}},{key:"px",get:function(){return this.data.px}},{key:"py",get:function(){return this.data.py}},{key:"mx",get:function(){return this.data.tx-this.data.px}},{key:"my",get:function(){return this.data.ty-this.data.py}}]),t}(),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l(this,t),this.x=e,this.y=n}return f(t,[{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.x=null!=t?t:this.x,this.y=null!=e?e:this.y}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return new t(this.x+r.x,this.y+r.y)}},{key:"subtract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return new t(this.x-r.x,this.y-r.y)}},{key:"multiply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return new t(this.x*r.x,this.y*r.y)}},{key:"divide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return new t(this.x/r.x,this.y/r.y)}},{key:"mod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return new t(this.x%r.x,this.y%r.y)}},{key:"ceil",value:function(){return new t(Math.ceil(this.x),Math.ceil(this.y))}},{key:"floor",value:function(){return new t(Math.floor(this.x),Math.floor(this.y))}},{key:"round",value:function(){return new t(Math.fround(this.x),Math.fround(this.y))}},{key:"abs",value:function(){return new t(Math.abs(this.x),Math.abs(this.y))}},{key:"reverse",value:function(){throw new t(-this.x,-this.y)}},{key:"flip",value:function(){throw new t(this.y,this.x)}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"distance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return Math.sqrt(this.distanceSquared(r))}},{key:"distanceSquared",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.from(e,n);return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)}}],[{key:"from",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"number"==typeof e?new t(e,"number"==typeof n?n:e):e instanceof t?e:e instanceof HTMLCanvasElement||e instanceof HTMLImageElement?new t(e.width,e.height):e instanceof d?new t(e.sw,e.sh):new t(e.x,e.y)}}]),t}(),v=function(t){return window.requestAnimationFrame(t)||window.webkitRequestAnimationFrame(t)||window.msRequestAnimationFrame(t)||window.mozRequestAnimationFrame(t)||window.setTimeout(t,1e3/60)},y=function(t,e,n,r,i){return new p(e,n).subtract(t.offsetLeft,t.offsetTop).multiply(r/t.offsetWidth,i/t.offsetHeight)},m=n(8446);function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(){function t(){l(this,t),this._hidden=!1,this._absolute=!1,this._scale=1,this._rotate=0,this._hue=0,this._brightness=1,this._contrast=1,this._grayscale=!1,this._drawBox=null}return f(t,[{key:"hidden",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=t,this}},{key:"absolute",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._absolute=t,this}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._scale=t,this}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._rotate=t,this}},{key:"hue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._hue=t,this}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._brightness=t,this}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._contrast=t,this}},{key:"grayscale",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._grayscale=t,this}},{key:"drawBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._drawBox=t,this}},{key:"applyFilter",value:function(t){var e="none"===t.filter?"":t.filter;0!==this._rotate&&t.rotate(-this._rotate),0!==this._hue&&(e+=" hue-rotate(".concat(this._hue,"deg) ")),1!==this._brightness&&(e+=" brightness(".concat(this._brightness,") ")),1!==this._contrast&&(e+=" contrast(".concat(this._contrast,") ")),this._grayscale&&(e+=" grayscale(1) "),this._drawBox&&(t.rect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY),t.clip(),t.clearRect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY)),t.filter=e}}]),t}(),E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new O;l(this,t),this.children=[],this.renderOption=null!=e?e:new O,this.isDestroyed=!1,this.hoverOutDelay=0,this.onUpdate=function(){},this.onRender=function(){},this.onDestroy=function(){},this.onMouseClick=function(){return!1},this.onMouseHover=function(){return!1},this.onMouseHoverOut=function(){},this.init()}return f(t,[{key:"init",value:function(){}},{key:"update",value:function(t){this.children=this.children.filter((function(e){return!e.isDestroyed&&(e.update(t),!0)})),this.hoverOutDelay>0&&(this.hoverOutDelay-=t,this.hoverOutDelay<=0&&(this.hoverOutDelay=0,this.onMouseHoverOut(this))),this.onUpdate(t,this)}},{key:"render",value:function(t){if(!this.isDestroyed&&!this.isHidden()){if(t.save(),this.renderOption.applyFilter(t),this.children.forEach((function(e){t.save(),e.render(t),t.restore()})),this.onRender(t,this),new URLSearchParams(window.location.search).get("renderBoundingBox")){var e=this.getBoundingBox();e&&(t.beginPath(),t.moveTo(e.minX,e.minY),t.lineTo(e.minX,e.maxY),t.lineTo(e.maxX,e.maxY),t.lineTo(e.maxX,e.minY),t.closePath(),t.stroke())}t.restore()}}},{key:"mouseClick",value:function(t,e){if(this.isDestroyed)return!1;var n=this.getBoundingBox();return!(n&&!n.isInside(this.isAbsolute()?t:e))&&(this.onMouseClick(t,e,this)||-1!==this.children.slice().reverse().findIndex((function(n){return n.mouseClick(t,e)})))}},{key:"mouseHover",value:function(t,e){if(this.isDestroyed)return!1;var n=this.getBoundingBox();return!(!n||!n.isInside(this.isAbsolute()?t:e))&&(this.hoverOutDelay=20,this.onMouseHover(t,e,this)||-1!==this.children.slice().reverse().findIndex((function(n){return n.mouseHover(t,e)})))}},{key:"destroy",value:function(){this.isDestroyed=!0,this.onDestroy(this)}},{key:"setOnUpdate",value:function(t){return this.onUpdate=t,this}},{key:"setOnRender",value:function(t){return this.onRender=t,this}},{key:"setOnMouseClick",value:function(t){return this.onMouseClick=t,this}},{key:"setOnMouseHover",value:function(t){return this.onMouseHover=t,this}},{key:"setOnMouseHoverOut",value:function(t){return this.onMouseHoverOut=t,this}},{key:"setRenderOption",value:function(t){return this.renderOption=t,this}},{key:"isAbsolute",value:function(){return this.renderOption._absolute}},{key:"isHidden",value:function(){return this.renderOption._hidden}},{key:"isHover",value:function(){return this.hoverOutDelay>0}},{key:"getScale",value:function(){return this.renderOption._scale}},{key:"getDrawBox",value:function(){return this.renderOption._drawBox}},{key:"getBoundingBox",value:function(){return null}}]),t}(),R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p;if(l(this,t),this.min=p.from(e),this.max=p.from(n),this.min.x>this.max.x){var r=[this.max.x,this.min.x];this.min.x=r[0],this.max.x=r[1]}if(this.min.y>this.max.y){var i=[this.max.y,this.min.y];this.min.y=i[0],this.max.y=i[1]}}return f(t,[{key:"center",get:function(){return this.min.add(this.max).divide(2)}},{key:"minX",get:function(){return this.min.x}},{key:"minY",get:function(){return this.min.y}},{key:"maxX",get:function(){return this.max.x}},{key:"maxY",get:function(){return this.max.y}},{key:"xLength",get:function(){return this.max.x-this.min.x}},{key:"yLength",get:function(){return this.max.y-this.min.y}},{key:"isInside",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=p.from(t,e);return this.min.x<n.x&&this.max.x>n.x&&this.min.y<n.y&&this.max.y>n.y}},{key:"add",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=p.from(e,n);return new t(this.min.add(r),this.max.add(r))}},{key:"subtract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=p.from(e,n);return new t(this.min.subtract(r),this.max.subtract(r))}},{key:"expand",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=p.from(e,n);return new t(this.min.subtract(r),this.max.add(r))}},{key:"contract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=p.from(e,n);return new t(this.min.add(r),this.max.subtract(r))}},{key:"ceil",value:function(){return t.from(this.min.ceil(),this.max.ceil())}},{key:"floor",value:function(){return t.from(this.min.floor(),this.max.floor())}},{key:"round",value:function(){return t.from(this.min.round(),this.max.round())}},{key:"clone",value:function(){return t.from(this.min,this.max)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return new t(p.from(e,r),p.from(void 0===n?e:n,void 0===i?r:i))}}]),t}();var _=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;return l(this,i),(e=r.call(this)).app=t,e.camera=new p,e.canvas=document.createElement("canvas"),e.ctx=e.createContext2D(),e}return f(i,[{key:"createContext2D",value:function(){var t=this.canvas.getContext("2d");if(!t)throw"Can't get context from canvas";return t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t}},{key:"resize",value:function(t){if(this.canvas.width!==t.width){var e=t.width/this.canvas.width;this.canvas.width=t.width,this.canvas.height=t.height,this.relocation(e)}}},{key:"relocation",value:function(t){}},{key:"addWidget",value:function(t){this.children.push(t),t.onAttach(this)}},{key:"render",value:function(){var t=this;this.isDestroyed||this.isHidden()||(this.ctx=this.createContext2D(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.children.forEach((function(e){e.isAbsolute()||(t.ctx.save(),t.ctx.translate(-t.camera.x,-t.camera.y)),e.render(t.ctx),e.isAbsolute()||t.ctx.restore()})))}},{key:"getBoundingBox",value:function(){return R.from(0,this.canvas)}},{key:"isAbsolute",value:function(){return!0}},{key:"viewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new p(this.vw(t),this.vh(e))}},{key:"vw",value:function(t){return this.canvas.width/100*t}},{key:"vh",value:function(t){return this.canvas.height/100*t}}]),i}(E);function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;l(this,t),this.frames=e,this.fps=n}return f(t,[{key:"getFrame",value:function(t){var e;return null!==(e=this.frames[Math.floor(t/1e3*this.fps)])&&void 0!==e?e:null}},{key:"setFps",value:function(t){return this.fps=t,this}}]),t}();function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function M(t,e,n){return(M=C()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function P(t){var e="function"==typeof Map?new Map:void 0;return(P=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return M(t,arguments,k(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}var A=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return f(i,[{key:"random",value:function(){var t=Array.from(this.values());return t[Math.floor(t.length*Math.random()<<0)]}}]),i}(P(Map)),j=function(){function t(){l(this,t),this.sprites=new A,this.animations=new A}return f(t,[{key:"getSprite",value:function(t){var e;return null!==(e=this.sprites.get(t))&&void 0!==e?e:null}},{key:"getAnimation",value:function(t){var e;return null!==(e=this.animations.get(t))&&void 0!==e?e:null}}]),t}();function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F={pivot:[.5,1],animation_fps:{}},L=new(function(){function t(){l(this,t),this.sheets=new A,this.sheetGroups=new A}var e;return f(t,[{key:"getSheet",value:function(t){var e;return null!==(e=this.sheets.get(t))&&void 0!==e?e:null}},{key:"setSheet",value:function(t,e){return this.sheets.set(t,e),this}},{key:"getGroup",value:function(t){var e;return null!==(e=this.sheetGroups.get(t))&&void 0!==e?e:null}},{key:"setGroup",value:function(t,e){return this.sheetGroups.set(t,e),this}},{key:"loadSheetGroup",value:(e=u(s().mark((function t(e,n,r,i){var a,c,l,h=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new A,c=0,l=[],Object.entries(r).forEach((function(t){var f=o(t,2),p=f[0],v=f[1],y="".concat(e,"/").concat(p);l.push(new Promise(function(){var t=u(s().mark((function t(e){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=F,Object.entries(i).forEach((function(t){var e=o(t,2),n=e[0],i=e[1];-1!==y.search(n)&&(r=I(I({},r),i))})),a=new j,Object.entries(v).forEach((function(t){var e=o(t,2),i=e[0],u=e[1];u.px=u.ow*r.pivot[0],u.py=u.oh*r.pivot[1];var c=new d(u,n),s=i.match(/[_\-][\d]+$/i);if(s){var l,h,f,p=i.slice(0,i.length-s[0].length);a.animations.has(p)||(a.animations.set(p,new S),null!==(l=r)&&void 0!==l&&null!==(h=l.animation_fps)&&void 0!==h&&h.hasOwnProperty(p)&&a.animations.get(p).setFps(null===(f=r)||void 0===f?void 0:f.animation_fps[p])),a.animations.get(p).frames.push(c)}else a.sprites.set(i,c)})),e(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){a.set(p,t),h.setSheet(y,t),console.debug("%c  └─[".concat(++c,"/").concat(Object.keys(r).length,"] : ").concat(e,"/%c").concat(p),"color: gray","color: lightgray")})))})),t.abrupt("return",Promise.all(l).then((function(){return h.setGroup(e,a)})));case 5:case"end":return t.stop()}}),t)}))),function(t,n,r,i){return e.apply(this,arguments)})}]),t}());function H(t,e,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var T=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new O;return l(this,i),(e=r.call(this,n)).pos=null!=t?t:new p,e.activity=null,e}return f(i,[{key:"setPos",value:function(t){return this.pos=t,this}},{key:"onAttach",value:function(t){this.activity=t}}]),i}(E);var q=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new O;return l(this,i),(e=r.call(this,t,a)).sheet=n,e.animationName=o,e.repeatCount=-1,e.playRate=1,e.elapsedTime=0,e.onAnimationEnd=function(){},e}return f(i,[{key:"init",value:function(){var t=this;this.onRender=function(e){if(t.animation){var n=t.getCurrentFrame();n&&n.draw(e,t.pos,t.getScale())}}}},{key:"update",value:function(t){this.elapsedTime+=t*this.playRate,H(k(i.prototype),"update",this).call(this,t)}},{key:"getCurrentFrame",value:function(){var t,e;if(null===(t=this.animation)||void 0===t||!t.getFrame(this.elapsedTime))if(this.elapsedTime=0,0!==this.repeatCount)-1!==this.repeatCount&&--this.repeatCount;else if(this.onAnimationEnd)return this.onAnimationEnd(this),null;return null===(e=this.animation)||void 0===e?void 0:e.getFrame(this.elapsedTime)}},{key:"getBoundingBox",value:function(){if(!this.animation)return null;var t=this.getCurrentFrame();return t?R.from(new p,p.from(t.sw,t.sh).multiply(this.getScale())).add(this.pos.add(p.from(t.mx,t.my).multiply(this.getScale()))):null}},{key:"setSheet",value:function(t){return this.sheet=t,this}},{key:"animation",get:function(){var t;return null===(t=this.sheet)||void 0===t?void 0:t.getAnimation(this.animationName)}},{key:"setAnimationName",value:function(t){return this.animationName=t,this}},{key:"setRepeatCount",value:function(t){return this.repeatCount=t,this}},{key:"setPlayRate",value:function(t){return this.playRate=t,this}},{key:"setOnAnimationEnd",value:function(t){return this.onAnimationEnd=t,this}},{key:"reset",value:function(){return this.elapsedTime=0,this}}]),i}(T);var N=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;return l(this,i),(e=r.call(this,t)).setOnMouseClick((function(t){return e.addWidget(new q(t,L.getSheet("particle/collect_particle")).setRenderOption((new O).absolute().scale(4)).setAnimationName("item").setRepeatCount(0).setOnAnimationEnd((function(t){return t.destroy()}))),!1})),e}return i}(_);var U=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new O;return l(this,i),(e=r.call(this,t,o)).sprite=n,e}return f(i,[{key:"init",value:function(){var t=this;this.onRender=function(e){t.sprite&&t.sprite.draw(e,t.pos,t.getScale())}}},{key:"getBoundingBox",value:function(){return this.sprite?R.from(new p,p.from(this.sprite.sw,this.sprite.sh).multiply(this.getScale())).add(this.pos.add(p.from(this.sprite.mx,this.sprite.my).multiply(this.getScale()))):null}},{key:"setSprite",value:function(t){return this.sprite=t,this}}]),i}(T);var G=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return f(i,[{key:"init",value:function(){var t=this;this.onRender=function(e){var n,r,i;if(t.activity&&null!==(n=t.sprite)&&void 0!==n&&null!==(r=n.image)&&void 0!==r&&r.complete){var o=t.getScale(),a=p.from(t.sprite).multiply(o).floor(),u=(null!==(i=t.getDrawBox())&&void 0!==i?i:t.activity.getBoundingBox()).max.floor();if(window.location.href.startsWith("file://"))return e.save(),e.translate(t.pos.x%a.x,t.pos.y%a.y),t.draw(e,a,u),void e.restore();if(!t.cache||t.cachedSprite!==t.sprite||t.cachedScale!==o){var c=document.createElement("canvas");c.width=u.x+2*a.x,c.height=u.y+2*a.y,t.draw(c.getContext("2d"),a,u),t.cache=document.createElement("img"),t.cache.src=c.toDataURL("image/png"),t.cachedSprite=t.sprite,t.cachedScale=o}e.drawImage(t.cache,t.pos.x%a.x,t.pos.y%a.y)}}}},{key:"getBoundingBox",value:function(){return this.getDrawBox()}},{key:"isAbsolute",value:function(){return!0}},{key:"draw",value:function(t,e,n){for(var r=n.x+2*e.x,i=n.y+2*e.y,o=0;o<r;o+=e.x-1)for(var a=0;a<i;a+=e.y-1)this.sprite.draw(t,new p(o,a),this.getScale())}}]),i}(U);var W=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;return l(this,i),(e=r.call(this,t)).addWidget(new G(null,L.getSheet("ui/background").sprites.random()).setRenderOption((new O).scale(2)).setOnUpdate((function(t,e){return e.pos.x-=t/10}))),e}return i}(_);var z=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new O;return l(this,i),(n=r.call(this,t,o)).text=e,n}return f(i,[{key:"init",value:function(){var t=this;this.onRender=function(e){var n=L.getSheet("ui/text");if(null!==n)for(var r=t.getScale()/2,i=8*r,o=10*r,a=t.text.toUpperCase().split("\n"),u=a.length,c=0;c<u;++c)for(var s=a[c],l=s.length,h=0;h<l;++h){var f=n.getSprite(s.charCodeAt(h)+"");f&&f.draw(e,t.pos.subtract((l-2*h)*i,(u-2*c)*o).subtract(f.mx*t.getScale(),f.my*t.getScale()),t.getScale())}}}},{key:"getBoundingBox",value:function(){var t=this.text.split("\n"),e=t.reduce((function(t,e){return Math.max(t,e.length)}),0),n=p.from(e,t.length).multiply(8,10).multiply(this.getScale()/2);return R.from(this.pos).expand(n)}},{key:"setText",value:function(t){return this.text=t,this}}]),i}(T);var X=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;l(this,i),e=r.call(this,t);var n=L.getGroup("character"),o=L.getSheet("ui/icon");return e.titleText=new z(null,"random race",(new O).absolute().scale(12)),e.titleCharacter=new q(null,n.random(),"run",(new O).absolute().scale(5)),e.titleCharacter.setOnAnimationEnd((function(){if("hit"===e.titleCharacter.animationName){var t=e.titleText.getBoundingBox();e.titleCharacter.setSheet(n.random()),e.titleCharacter.setAnimationName("idle").reset().setRepeatCount(4);var r=e.titleCharacter.getCurrentFrame();r&&(e.titleCharacter.pos=t.min.add(-r.data.ow*e.titleCharacter.getScale()/2,t.max.y/2))}else"run"===e.titleCharacter.animationName?e.titleCharacter.setAnimationName("idle").reset().setRepeatCount(4):e.titleCharacter.setAnimationName("run").reset().setRepeatCount(6)})),e.titleCharacter.setOnMouseClick((function(t){e.titleCharacter.playRate+=.1,e.titleCharacter.playRate>3&&(e.titleCharacter.playRate=1),e.addWidget(new z(t.add(80*Math.random()-40,0),1===e.titleCharacter.playRate?"-200":"+10",(new O).absolute()).setRenderOption((new O).scale(2).absolute().hue(360*Math.random()).brightness(6).contrast(2)).setOnUpdate((function(t,e){e instanceof z?(e.pos.y-=t/20,e.pos.y<0&&e.destroy()):e.destroy()})))})),e.fullscreenButton=null,m.Z.isEnabled&&(e.fullscreenButton=new U(null,o.getSprite("fullscreen_enter"),(new O).absolute()),e.fullscreenButton.setOnMouseClick((function(){return m.Z.toggle(document.body)})).setOnUpdate((function(){return e.fullscreenButton.renderOption.scale(e.fullscreenButton.isHover()?6.5:6),!0})),m.Z.onChange((function(){var t;e.fullscreenButton.sprite=null!==(t=o.getSprite(m.Z.isFullscreen?"fullscreen_exit":"fullscreen_enter"))&&void 0!==t?t:null}))),e.addWidget(e.titleText),e.addWidget(e.titleCharacter),e.fullscreenButton&&e.addWidget(e.fullscreenButton),e.relocation(1),e}return f(i,[{key:"relocation",value:function(t){var e,n;this.titleText.pos=this.viewport(50,10);var r=this.titleText.getBoundingBox();this.titleCharacter.pos=r.min.add((null===(e=this.titleCharacter)||void 0===e||null===(n=e.getCurrentFrame())||void 0===n?void 0:n.mx)*this.titleCharacter.getScale(),r.max.y-r.min.y),this.fullscreenButton&&(this.fullscreenButton.pos=this.viewport(95,10))}}]),i}(_),Y=JSON.parse('{"f":"0.1.0","i":"dev"}');var Z=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;l(this,i),e=r.call(this,t);var n=L.getGroup("character");e.runners=[];for(var o=function(t){var r=new q(e.viewport(100*Math.random(),100)).setOnUpdate((function(t){var i,o,a=e.getBoundingBox().add(e.camera).maxX;(null!==(i=null===(o=r.getBoundingBox())||void 0===o?void 0:o.minX)&&void 0!==i?i:0)>a&&(r.pos.x=e.camera.x,r.sheet=null),r.sheet||(r.renderOption.scale(3*Math.random()+5),r.setSheet(n.random()).setAnimationName("run").reset().setRepeatCount(-1).setPlayRate(1+.3*Math.random())),r.animation instanceof S&&-1===r.repeatCount&&(r.pos.x+=t/r.playRate*r.getScale()/15)})).setOnMouseClick((function(){return r.animation instanceof S&&-1===r.repeatCount&&r.setAnimationName("hit").reset().setRepeatCount(0).setOnAnimationEnd((function(){r.setSheet(L.getSheet("particle/character_particle")).setAnimationName("disappearing").setRepeatCount(0).setOnAnimationEnd((function(){r.pos.x=e.camera.x,r.sheet=null}))})),!0}));e.runners[t]=r,e.addWidget(r)},a=0;a<30;++a)o(a);return e.versionText=new z(null,"v"+Y.f+"-"+Y.i,(new O).scale(3).absolute()),e.addWidget(e.versionText),e.setOnUpdate((function(t){e.camera.x+=t/10})),e.relocation(1),e}return f(i,[{key:"relocation",value:function(t){var e=this;this.runners.forEach((function(n){return n.pos.set(n.pos.x*t,e.vh(100))}));var n=this.versionText.getBoundingBox();this.versionText.pos.set(this.vw(1)+n.xLength/2,this.vh(99)-+n.yLength/2)}}]),i}(_);var V=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new O;return l(this,i),(n=r.call(this,t,e,"idle",o)).background=new U(null,L.getSheet("ui/button").getSprite("select_block"),o),n}return f(i,[{key:"init",value:function(){var t=this;this.onRender=function(e){if(t.animation){var n=t.getCurrentFrame();if(n){var r=t.getScale();t.background.sprite.draw(e,t.pos,r),n.draw(e,t.pos.add(3*r,15*r),.75*r)}}}}},{key:"getBoundingBox",value:function(){return this.background.sprite?R.from(new p,p.from(this.background.sprite.sw,this.background.sprite.sh).multiply(this.getScale())).add(this.pos.add(p.from(this.background.sprite.mx,this.background.sprite.my).multiply(this.getScale()))):null}}]),i}(q);var K=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return f(i,[{key:"random",value:function(){var t;return null!==(t=this[Math.floor(this.length*Math.random()<<0)])&&void 0!==t?t:null}},{key:"randomPop",value:function(){var t,e=Math.floor(this.length*Math.random()<<0),n=null!==(t=this[e])&&void 0!==t?t:null;return null!==n&&this.splice(e,1),n}}]),i}(P(Array));var $=function(t){w(a,t);var e,n,o=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function a(t){var e;l(this,a),e=o.call(this,t);var n,u=L.getSheet("ui/icon"),c=M(K,function(t){if(Array.isArray(t))return r(t)}(n=L.getGroup("character").values())||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||i(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e.selectors=[];for(var s=0;s<5;++s){var h=e.createSelector(c);e.addWidget(h),e.selectors.push(h)}return e.countText=new z(null,e.selectors.length+"",(new O).scale(18)),e.reduceButton=new U(null,u.getSprite("prev"),(new O).scale(10)).setOnMouseClick((function(){if(e.selectors.length>2){var t=e.selectors.pop();t.destroy(),c.push(t.sheet),e.countText.text=e.selectors.length+"",e.relocation(1)}})),e.increaseButton=new U(null,u.getSprite("next"),(new O).scale(10)).setOnMouseClick((function(){if(e.selectors.length<5){var t=e.createSelector(c);e.addWidget(t),e.selectors.push(t),e.countText.text=e.selectors.length+"",e.relocation(1)}})),e.addWidget(e.countText),e.addWidget(e.reduceButton),e.addWidget(e.increaseButton),e.relocation(1),e}return f(a,[{key:"relocation",value:function(t){for(var e=this.selectors.length,n=50-17.5*e/2+8.75,r=0;r<e;++r)this.selectors[r].pos=this.viewport(n+17.5*r,55);this.countText.pos=this.viewport(50,27.5),this.reduceButton.pos=this.viewport(30,27.5),this.increaseButton.pos=this.viewport(70,27.5)}},{key:"createSelector",value:function(t){var e=new V(null,t.randomPop(),(new O).scale(7)).setOnMouseClick((function(n){var r=e.getBoundingBox(),i=n.subtract(r.min);if(i.x>.67*r.xLength&&i.y<.33*r.yLength){var o=e.sheet;e.setSheet(t.randomPop()),t.push(o)}}));return e}}]),a}(_);var J=function(t){w(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=k(e);if(n){var i=k(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)});function i(t){var e;l(this,i),e=r.call(this,t);var n=L.getSheet("ui/button");return e.startGameButton=new U(null,n.getSprite("start_game"),(new O).absolute()),e.descriptionButton=new U(null,n.getSprite("description"),(new O).absolute()),e.startGameButton.setOnUpdate((function(t,e){return e.renderOption.scale(e.isHover()?10.5:10)||!0})),e.descriptionButton.setOnUpdate((function(t,e){return e.renderOption.scale(e.isHover()?8.5:8)||!0})),e.startGameButton.setOnMouseClick((function(){return t.setActivity(Q.MAIN,new $(t))})),e.addWidget(e.startGameButton),e.addWidget(e.descriptionButton),e.relocation(1),e}return f(i,[{key:"relocation",value:function(t){this.startGameButton.pos=this.viewport(50,30),this.descriptionButton.pos=this.viewport(50,50)}}]),i}(_),Q={BACKGROUND:0,MAIN:1,HEADER:98,FOOTER:99,OVERLAY:100,MAX:99999999},tt=function(){function t(){var e=this;l(this,t),this.canvas=document.createElement("canvas"),this.canvas.id="app-overlay",this.canvas.style.zIndex="".concat(Q.MAX),document.body.append(this.canvas),this.activities=[],this.mouseVec=new p,this.lastUpdate=-1,this.resizingCanvas(),this.setActivity(Q.BACKGROUND,new W(this)),this.setActivity(Q.HEADER,new X(this)),this.setActivity(Q.MAIN,new J(this)),this.setActivity(Q.FOOTER,new Z(this)),this.setActivity(Q.OVERLAY,new N(this)),this.canvas.onclick=function(t){if(0===t.button){var n=y(e.canvas,t.pageX,t.pageY,e.canvas.width,e.canvas.height);e.activities.slice().reverse().some((function(t){return t.mouseClick(n,n.add(t.camera))}))}},this.canvas.onmousemove=function(t){e.mouseVec=y(e.canvas,t.pageX,t.pageY,e.canvas.width,e.canvas.height)},window.addEventListener("resize",this.resizingCanvas.bind(this)),window.addEventListener("orientationchange",this.resizingCanvas.bind(this)),m.Z.isEnabled&&window.screen&&screen.orientation&&screen.orientation.lock&&m.Z.onChange(u(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.Z.isFullscreen&&!(window.innerWidth>window.innerHeight)){t.next=2;break}return t.abrupt("return");case 2:if("portrait-primary"===(e=screen.orientation.type)||"portrait-secondary"===e){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,screen.orientation.lock("landscape");case 7:case"end":return t.stop()}}),t)}))))}return f(t,[{key:"update",value:function(){var t=this,e=performance.now();if(-1!==this.lastUpdate){var n=-1===this.lastUpdate?0:e-this.lastUpdate;if(n>1e3)return this.lastUpdate=e,void v(this.update.bind(this));this.activities=this.activities.filter((function(t){return!t.isDestroyed&&(t.update(n),t.render(),!0)}))}this.lastUpdate=e,this.activities.slice().reverse().some((function(e){return e.mouseHover(t.mouseVec,t.mouseVec.add(e.camera))})),v(this.update.bind(this))}},{key:"setActivity",value:function(t,e){void 0!==this.activities[t]&&document.body.removeChild(this.activities[t].canvas),e.canvas.style.zIndex="".concat(t),e.resize(this.canvas),document.body.append(e.canvas),this.activities[t]=e}},{key:"resizingCanvas",value:function(){var t=this,e=this.canvas.width;this.canvas.width=Math.min(2520,Math.max(1920,window.innerWidth/window.innerHeight*1080)),this.canvas.height=1080,e!==this.canvas.width&&(this.mouseVec.multiply(e/this.canvas.width,1),this.activities.forEach((function(e){e.resize(t.canvas)})))}}]),t}();function et(){return(et=u(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Promise.all(["character",n.e(494).then(n.bind(n,3406)),n.e(715).then(n.t.bind(n,3715,19)),n.e(277).then(n.t.bind(n,8277,19))]),Promise.all(["particle",n.e(939).then(n.bind(n,5939)),n.e(948).then(n.t.bind(n,7948,19)),n.e(258).then(n.t.bind(n,1258,19))]),Promise.all(["ui",n.e(49).then(n.bind(n,1049)),n.e(657).then(n.t.bind(n,9657,19)),n.e(106).then(n.t.bind(n,3106,19))])],r=e.length,e.forEach((function(t,e){t.then(function(){var t=u(s().mark((function t(n){var i,a,u,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o(n,4),a=i[0],u=i[1],c=i[2],l=i[3],console.debug("%c[load-sprites](".concat(e+1,"/").concat(r,") : %cGroup '").concat(a,"'"),"color: gray","background: dimgray"),t.next=4,L.loadSheetGroup(a,u.default,c.default,l.default);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.abrupt("return",Promise.all(e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){(function(){return et.apply(this,arguments)})().then((function(){return(new tt).update()}))}))}},o={};function a(t){var e=o[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var n=o[t]={exports:{}};try{var r={id:t,module:n,factory:i[t],require:a};a.i.forEach((function(t){t(r)})),n=r.module,r.factory.call(n.exports,n,n.exports,r.require)}catch(t){throw n.error=t,t}return n.exports}a.m=i,a.c=o,a.i=[],a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var u=2&r&&n;"object"==typeof u&&!~t.indexOf(u);u=e(u))Object.getOwnPropertyNames(u).forEach((function(t){o[t]=function(){return n[t]}}));return o.default=function(){return n},a.d(i,o),i},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return t+".js"},a.hu=function(t){return t+"."+a.h()+".hot-update.js"},a.hmrF=function(){return"index."+a.h()+".hot-update.json"},a.h=function(){return"9da484bf8495ca3ab350"},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n={},r="random-race:",a.l=function(t,e,i,o){if(n[t])n[t].push(e);else{var u,c;if(void 0!==i)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var h=s[l];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==r+i){u=h;break}}u||(c=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",r+i),u.src=t),n[t]=[e];var f=function(e,r){u.onerror=u.onload=null,clearTimeout(d);var i=n[t];if(delete n[t],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),c&&document.head.appendChild(u)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t,e,n,r,i={},o=a.c,u=[],c=[],s="idle";function l(t){s=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}function h(t){if(0===e.length)return t();var n=e;return e=[],Promise.all(n).then((function(){return h(t)}))}function f(t){if("idle"!==s)throw new Error("check() is only allowed in idle status");return l("check"),a.hmrM().then((function(r){if(!r)return l(v()?"ready":"idle"),null;l("prepare");var i=[];return e=[],n=[],Promise.all(Object.keys(a.hmrC).reduce((function(t,e){return a.hmrC[e](r.c,r.r,r.m,t,n,i),t}),[])).then((function(){return h((function(){return t?p(t):(l("ready"),i)}))}))}))}function d(t){return"ready"!==s?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):p(t)}function p(t){t=t||{},v();var e=n.map((function(e){return e(t)}));n=void 0;var i,o=e.map((function(t){return t.error})).filter(Boolean);if(o.length>0)return l("abort"),Promise.resolve().then((function(){throw o[0]}));l("dispose"),e.forEach((function(t){t.dispose&&t.dispose()})),l("apply");var a=function(t){i||(i=t)},u=[];return e.forEach((function(t){if(t.apply){var e=t.apply(a);if(e)for(var n=0;n<e.length;n++)u.push(e[n])}})),i?(l("fail"),Promise.resolve().then((function(){throw i}))):r?p(t).then((function(t){return u.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):(l("idle"),Promise.resolve(u))}function v(){if(r)return n||(n=[]),Object.keys(a.hmrI).forEach((function(t){r.forEach((function(e){a.hmrI[t](e,n)}))})),r=void 0,!0}a.hmrD=i,a.i.push((function(p){var v,y,m,g=p.module,w=function(n,r){var i=o[r];if(!i)return n;var a=function(e){if(i.hot.active){if(o[e]){var a=o[e].parents;-1===a.indexOf(r)&&a.push(r)}else u=[r],t=e;-1===i.children.indexOf(e)&&i.children.push(e)}else console.warn("[HMR] unexpected require("+e+") from disposed module "+r),u=[];return n(e)},c=function(t){return{configurable:!0,enumerable:!0,get:function(){return n[t]},set:function(e){n[t]=e}}};for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&"e"!==f&&Object.defineProperty(a,f,c(f));return a.e=function(t){return function(t){switch(s){case"ready":return l("prepare"),e.push(t),h((function(){l("ready")})),t;case"prepare":return e.push(t),t;default:return t}}(n.e(t))},a}(p.require,p.id);g.hot=(v=p.id,y=g,m={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:t!==v,_requireSelf:function(){u=y.parents.slice(),t=v,a(v)},active:!0,accept:function(t,e,n){if(void 0===t)m._selfAccepted=!0;else if("function"==typeof t)m._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var r=0;r<t.length;r++)m._acceptedDependencies[t[r]]=e||function(){},m._acceptedErrorHandlers[t[r]]=n;else m._acceptedDependencies[t]=e||function(){},m._acceptedErrorHandlers[t]=n},decline:function(t){if(void 0===t)m._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)m._declinedDependencies[t[e]]=!0;else m._declinedDependencies[t]=!0},dispose:function(t){m._disposeHandlers.push(t)},addDisposeHandler:function(t){m._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=m._disposeHandlers.indexOf(t);e>=0&&m._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,s){case"idle":n=[],Object.keys(a.hmrI).forEach((function(t){a.hmrI[t](v,n)})),l("ready");break;case"ready":Object.keys(a.hmrI).forEach((function(t){a.hmrI[t](v,n)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(v)}},check:f,apply:d,status:function(t){if(!t)return s;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:i[v]},t=void 0,m),g.parents=u,g.children=[],u=[],p.require=w})),a.hmrC={},a.hmrI={}}(),a.p="",function(){var t={826:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),u=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,r[1](u)}}),"chunk-"+e,e)}};var e,n,r,i,o={};function u(t){return new Promise((function(e,n){o[t]=e;var r=a.p+a.hu(t),i=new Error;a.l(r,(function(e){if(o[t]){o[t]=void 0;var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;i.message="Loading hot update chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,n(i)}}))}))}function c(o){function u(t){for(var e=[t],n={},r=e.map((function(t){return{chain:[t],id:t}}));r.length>0;){var i=r.pop(),o=i.id,u=i.chain,s=a.c[o];if(s&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:o};if(s.hot._main)return{type:"unaccepted",chain:u,moduleId:o};for(var l=0;l<s.parents.length;l++){var h=s.parents[l],f=a.c[h];if(f){if(f.hot._declinedDependencies[o])return{type:"declined",chain:u.concat([h]),moduleId:o,parentId:h};-1===e.indexOf(h)&&(f.hot._acceptedDependencies[o]?(n[h]||(n[h]=[]),c(n[h],[o])):(delete n[h],e.push(h),r.push({chain:u.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}a.f&&delete a.f.jsonpHmr,e=void 0;var s={},l=[],h={},f=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var d in n)if(a.o(n,d)){var p,v=n[d],y=!1,m=!1,g=!1,w="";switch((p=v?u(d):{type:"disposed",moduleId:d}).chain&&(w="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":o.onDeclined&&o.onDeclined(p),o.ignoreDeclined||(y=new Error("Aborted because of self decline: "+p.moduleId+w));break;case"declined":o.onDeclined&&o.onDeclined(p),o.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+w));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(p),o.ignoreUnaccepted||(y=new Error("Aborted because "+d+" is not accepted"+w));break;case"accepted":o.onAccepted&&o.onAccepted(p),m=!0;break;case"disposed":o.onDisposed&&o.onDisposed(p),g=!0;break;default:throw new Error("Unexception type "+p.type)}if(y)return{error:y};if(m)for(d in h[d]=v,c(l,p.outdatedModules),p.outdatedDependencies)a.o(p.outdatedDependencies,d)&&(s[d]||(s[d]=[]),c(s[d],p.outdatedDependencies[d]));g&&(c(l,[p.moduleId]),h[d]=f)}n=void 0;for(var x,b=[],k=0;k<l.length;k++){var O=l[k],E=a.c[O];E&&E.hot._selfAccepted&&h[O]!==f&&!E.hot._selfInvalidated&&b.push({module:O,require:E.hot._requireSelf,errorHandler:E.hot._selfAccepted})}return{dispose:function(){var e;r.forEach((function(e){delete t[e]})),r=void 0;for(var n,i=l.slice();i.length>0;){var o=i.pop(),u=a.c[o];if(u){var c={},h=u.hot._disposeHandlers;for(k=0;k<h.length;k++)h[k].call(null,c);for(a.hmrD[o]=c,u.hot.active=!1,delete a.c[o],delete s[o],k=0;k<u.children.length;k++){var f=a.c[u.children[k]];f&&(e=f.parents.indexOf(o))>=0&&f.parents.splice(e,1)}}}for(var d in s)if(a.o(s,d)&&(u=a.c[d]))for(x=s[d],k=0;k<x.length;k++)n=x[k],(e=u.children.indexOf(n))>=0&&u.children.splice(e,1)},apply:function(t){for(var e in h)a.o(h,e)&&(a.m[e]=h[e]);for(var n=0;n<i.length;n++)i[n](a);for(var r in s)if(a.o(s,r)){var u=a.c[r];if(u){x=s[r];for(var c=[],f=[],d=[],p=0;p<x.length;p++){var v=x[p],y=u.hot._acceptedDependencies[v],m=u.hot._acceptedErrorHandlers[v];if(y){if(-1!==c.indexOf(y))continue;c.push(y),f.push(m),d.push(v)}}for(var g=0;g<c.length;g++)try{c[g].call(null,x)}catch(e){if("function"==typeof f[g])try{f[g](e,{moduleId:r,dependencyId:d[g]})}catch(n){o.onErrored&&o.onErrored({type:"accept-error-handler-errored",moduleId:r,dependencyId:d[g],error:n,originalError:e}),o.ignoreErrored||(t(n),t(e))}else o.onErrored&&o.onErrored({type:"accept-errored",moduleId:r,dependencyId:d[g],error:e}),o.ignoreErrored||t(e)}}}for(var w=0;w<b.length;w++){var k=b[w],O=k.module;try{k.require(O)}catch(e){if("function"==typeof k.errorHandler)try{k.errorHandler(e,{moduleId:O,module:a.c[O]})}catch(n){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:O,error:n,originalError:e}),o.ignoreErrored||(t(n),t(e))}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:O,error:e}),o.ignoreErrored||t(e)}}return l}}}self.webpackHotUpdaterandom_race=function(t,e,r){for(var u in e)a.o(e,u)&&(n[u]=e[u]);r&&i.push(r),o[t]&&(o[t](),o[t]=void 0)},a.hmrI.jsonp=function(t,e){n||(n={},i=[],r=[],e.push(c)),a.o(n,t)||(n[t]=a.m[t])},a.hmrC.jsonp=function(o,s,l,h,f,d){f.push(c),e={},r=s,n=l.reduce((function(t,e){return t[e]=!1,t}),{}),i=[],o.forEach((function(n){a.o(t,n)&&void 0!==t[n]&&(h.push(u(n)),e[n]=!0)})),a.f&&(a.f.jsonpHmr=function(n,r){e&&!a.o(e,n)&&a.o(t,n)&&void 0!==t[n]&&(r.push(u(n)),e[n]=!0)})},a.hmrM=function(){if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(a.p+a.hmrF()).then((function(t){if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))};var s=function(e,n){var r,i,o=n[0],u=n[1],c=n[2],s=0;for(r in u)a.o(u,r)&&(a.m[r]=u[r]);for(c&&c(a),e&&e(n);s<o.length;s++)i=o[s],a.o(t,i)&&t[i]&&t[i][0](),t[o[s]]=0},l=self.webpackChunkrandom_race=self.webpackChunkrandom_race||[];l.forEach(s.bind(null,0)),l.push=s.bind(null,l.push.bind(l))}(),a(5171)}();