!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--m&&0===b&&j()}(e,n),t&&t(e,n)};var n,r=!0,o="923259eda11463e465bb",i={},s=[],a=[];function u(e){var t=R[e];if(!t)return M;var r=function(r){return t.hot.active?(R[r]?-1===R[r].parents.indexOf(e)&&R[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),M(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return M[e]},set:function(t){M[e]=t}}};for(var i in M)Object.prototype.hasOwnProperty.call(M,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===f&&h("prepare"),b++,M.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===f&&(w[e]||_(e),0===b&&0===m&&j())}},r.t=function(e,t){return 1&t&&(e=r(e)),M.t(e,-2&t)},r}function c(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(d={})[t]=e[t],h("ready");break;case"ready":E(t);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(t)}},check:k,apply:S,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[t]};return n=void 0,r}var l=[],f="idle";function h(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,d,y,v,m=0,b=0,w={},g={},x={};function O(e){return+e+""===e?+e:e}function k(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=M.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return h(P()?"ready":"idle"),null;g={},w={},x=e.c,y=e.h,h("prepare");var t=new Promise((function(e,t){p={resolve:e,reject:t}}));d={};return _(0),"prepare"===f&&0===b&&0===m&&j(),t}));var t}function _(e){x[e]?(g[e]=!0,m++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=M.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function j(){h("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then((function(){return S(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&t.push(O(n));e.resolve(t)}}function S(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(r){var a,u,c,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,s=o.chain;if((l=R[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<l.parents.length;a++){var u=l.parents[a],c=R[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(c.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),m(n[u],[i])):(delete n[u],t.push(u),r.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var b={},w=[],g={},k=function(){console.warn("[HMR] unexpected require("+j.moduleId+") to disposed module")};for(var _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){var j;f=O(_),j=d[_]?p(f):{type:"disposed",moduleId:_};var S=!1,E=!1,B=!1,D="";switch(j.chain&&(D="\nUpdate propagation: "+j.chain.join(" -> ")),j.type){case"self-declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(S=new Error("Aborted because of self decline: "+j.moduleId+D));break;case"declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+j.moduleId+" in "+j.parentId+D));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(j),r.ignoreUnaccepted||(S=new Error("Aborted because "+f+" is not accepted"+D));break;case"accepted":r.onAccepted&&r.onAccepted(j),E=!0;break;case"disposed":r.onDisposed&&r.onDisposed(j),B=!0;break;default:throw new Error("Unexception type "+j.type)}if(S)return h("abort"),Promise.reject(S);if(E)for(f in g[f]=d[f],m(w,j.outdatedModules),j.outdatedDependencies)Object.prototype.hasOwnProperty.call(j.outdatedDependencies,f)&&(b[f]||(b[f]=[]),m(b[f],j.outdatedDependencies[f]));B&&(m(w,[j.moduleId]),g[f]=k)}var I,A=[];for(u=0;u<w.length;u++)f=w[u],R[f]&&R[f].hot._selfAccepted&&g[f]!==k&&!R[f].hot._selfInvalidated&&A.push({module:f,parents:R[f].parents.slice(),errorHandler:R[f].hot._selfAccepted});h("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)}));var C,H,F=w.slice();for(;F.length>0;)if(f=F.pop(),l=R[f]){var T={},U=l.hot._disposeHandlers;for(c=0;c<U.length;c++)(a=U[c])(T);for(i[f]=T,l.hot.active=!1,delete R[f],delete b[f],c=0;c<l.children.length;c++){var L=R[l.children[c]];L&&((I=L.parents.indexOf(f))>=0&&L.parents.splice(I,1))}}for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)&&(l=R[f]))for(H=b[f],c=0;c<H.length;c++)C=H[c],(I=l.children.indexOf(C))>=0&&l.children.splice(I,1);h("apply"),void 0!==y&&(o=y,y=void 0);for(f in d=void 0,g)Object.prototype.hasOwnProperty.call(g,f)&&(e[f]=g[f]);var q=null;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)&&(l=R[f])){H=b[f];var X=[];for(u=0;u<H.length;u++)if(C=H[u],a=l.hot._acceptedDependencies[C]){if(-1!==X.indexOf(a))continue;X.push(a)}for(u=0;u<X.length;u++){a=X[u];try{a(H)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:f,dependencyId:H[u],error:e}),r.ignoreErrored||q||(q=e)}}}for(u=0;u<A.length;u++){var z=A[u];f=z.module,s=z.parents,n=f;try{M(f)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),r.ignoreErrored||q||(q=t),q||(q=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:f,error:e}),r.ignoreErrored||q||(q=e)}}if(q)return h("fail"),Promise.reject(q);if(v)return t(r).then((function(e){return w.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return h("idle"),new Promise((function(e){e(w)}))}(t=t||{})}function P(){if(v)return d||(d={}),v.forEach(E),v=void 0,!0}function E(t){Object.prototype.hasOwnProperty.call(d,t)||(d[t]=e[t])}var R={};function M(t){if(R[t])return R[t].exports;var n=R[t]={i:t,l:!1,exports:{},hot:c(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,u(t)),n.l=!0,n.exports}M.m=e,M.c=R,M.d=function(e,t,n){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},M.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(e,t){if(1&t&&(e=M(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(M.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)M.d(n,r,function(t){return e[t]}.bind(null,r));return n},M.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="",M.h=function(){return o},u(322)(M.s=322)}({126:function(e){e.exports=JSON.parse('[{"name":"a","w":8,"h":10,"sx":0,"sy":0},{"name":"b","w":8,"h":10,"sx":8,"sy":0},{"name":"c","w":8,"h":10,"sx":16,"sy":0},{"name":"d","w":8,"h":10,"sx":24,"sy":0},{"name":"e","w":8,"h":10,"sx":32,"sy":0},{"name":"f","w":8,"h":10,"sx":40,"sy":0},{"name":"g","w":8,"h":10,"sx":48,"sy":0},{"name":"h","w":8,"h":10,"sx":56,"sy":0},{"name":"i","w":8,"h":10,"sx":64,"sy":0},{"name":"j","w":8,"h":10,"sx":72,"sy":0},{"name":"k","w":8,"h":10,"sx":0,"sy":10},{"name":"l","w":8,"h":10,"sx":8,"sy":10},{"name":"m","w":8,"h":10,"sx":16,"sy":10},{"name":"n","w":8,"h":10,"sx":24,"sy":10},{"name":"o","w":8,"h":10,"sx":32,"sy":10},{"name":"p","w":8,"h":10,"sx":40,"sy":20},{"name":"q","w":8,"h":10,"sx":40,"sy":10},{"name":"r","w":8,"h":10,"sx":48,"sy":10},{"name":"s","w":8,"h":10,"sx":56,"sy":10},{"name":"t","w":8,"h":10,"sx":64,"sy":10},{"name":"u","w":8,"h":10,"sx":72,"sy":10},{"name":"v","w":8,"h":10,"sx":0,"sy":20},{"name":"w","w":8,"h":10,"sx":8,"sy":20},{"name":"x","w":8,"h":10,"sx":16,"sy":20},{"name":"y","w":8,"h":10,"sx":24,"sy":20},{"name":"z","w":8,"h":10,"sx":32,"sy":20},{"name":"0","w":8,"h":10,"sx":0,"sy":30},{"name":"1","w":8,"h":10,"sx":8,"sy":30},{"name":"2","w":8,"h":10,"sx":16,"sy":30},{"name":"3","w":8,"h":10,"sx":24,"sy":30},{"name":"4","w":8,"h":10,"sx":32,"sy":30},{"name":"5","w":8,"h":10,"sx":40,"sy":30},{"name":"6","w":8,"h":10,"sx":48,"sy":30},{"name":"7","w":8,"h":10,"sx":56,"sy":30},{"name":"8","w":8,"h":10,"sx":64,"sy":30},{"name":"9","w":8,"h":10,"sx":72,"sy":30},{"name":".","w":8,"h":10,"sx":0,"sy":40},{"name":",","w":8,"h":10,"sx":8,"sy":40},{"name":":","w":8,"h":10,"sx":16,"sy":40},{"name":"?","w":8,"h":10,"sx":24,"sy":40},{"name":"!","w":8,"h":10,"sx":32,"sy":40},{"name":"(","w":8,"h":10,"sx":40,"sy":40},{"name":")","w":8,"h":10,"sx":48,"sy":40},{"name":"+","w":8,"h":10,"sx":56,"sy":40},{"name":"-","w":8,"h":10,"sx":64,"sy":40}]')},127:function(e){e.exports=JSON.parse('[{"name":"blue","w":64,"h":64,"sx":0,"sy":0},{"name":"brown","w":64,"h":64,"sx":64,"sy":0},{"name":"pink","w":64,"h":64,"sx":128,"sy":0},{"name":"gray","w":64,"h":64,"sx":0,"sy":64},{"name":"green","w":64,"h":64,"sx":64,"sy":64},{"name":"purple","w":64,"h":64,"sx":128,"sy":64},{"name":"yellow","w":64,"h":64,"sx":128,"sy":0}]')},128:function(e){e.exports=JSON.parse('[{"name":"achievements","w":20,"h":20,"sx":0,"sy":0},{"name":"leaderboard","w":20,"h":20,"sx":20,"sy":0},{"name":"settings","w":20,"h":20,"sx":40,"sy":0},{"name":"sound_on","w":20,"h":20,"sx":60,"sy":0},{"name":"sound_off","w":20,"h":20,"sx":80,"sy":0},{"name":"prev","w":20,"h":20,"sx":0,"sy":20},{"name":"next","w":20,"h":20,"sx":20,"sy":20},{"name":"play","w":20,"h":20,"sx":40,"sy":20},{"name":"pause","w":20,"h":20,"sx":60,"sy":20},{"name":"reset","w":20,"h":20,"sx":80,"sy":20},{"name":"fullscreen_enter","w":20,"h":20,"sx":0,"sy":40},{"name":"fullscreen_exit","w":20,"h":20,"sx":20,"sy":40},{"name":"buttons","w":20,"h":20,"sx":40,"sy":40},{"name":"close","w":20,"h":20,"sx":0,"sy":60},{"name":"back","w":20,"h":20,"sx":20,"sy":60},{"name":"death","w":20,"h":20,"sx":40,"sy":60}]')},129:function(e){e.exports=JSON.parse('{"fps":60,"w":32,"h":32,"ox":0,"oy":0,"sx":0,"sy":0,"count":6}')},130:function(e){e.exports=JSON.parse('{"in":{"fps":90,"w":96,"h":96,"ox":16,"oy":32,"sx":0,"sy":0,"count":7},"out":{"fps":90,"w":96,"h":96,"ox":16,"oy":32,"sx":0,"sy":96,"count":7}}')},131:function(e){e.exports=JSON.parse('{"idle":{"fps":60,"w":32,"h":32,"ox":15,"oy":31,"sx":0,"sy":0,"count":11},"run":{"fps":60,"w":32,"h":32,"ox":15,"oy":31,"sx":0,"sy":32,"count":12},"hit":{"fps":60,"w":32,"h":32,"ox":15,"oy":31,"sx":0,"sy":64,"count":7}}')},322:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o(this,e),"object"===r(t)){var i=e.fromObject(t);this.x=i.x,this.y=i.y}else this.x=t,this.y=n}var t,n,s;return t=e,s=[{key:"from",value:function(t,n){return"object"===r(t)?this.fromObject(t):"number"==typeof t?new e(t,"number"==typeof n?n:t):(console.error("Invalid value given : "),console.error(t),new e)}},{key:"fromObject",value:function(t){return t instanceof e?t:void 0!==t.w&&void 0!==t.h?new e(t.w,t.h):void 0!==t.width&&void 0!==t.height?new e(t.width,t.height):(console.error("Invalid obj given : "),console.error(t),new e)}}],(n=[{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x+r.x,this.y+r.y)}},{key:"subtract",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x-r.x,this.y-r.y)}},{key:"multiply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x*r.x,this.y*r.y)}},{key:"divide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x/r.x,this.y/r.y)}},{key:"mod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x%r.x,this.y%r.y)}},{key:"ceil",value:function(){return new e(Math.ceil(this.x),Math.ceil(this.y))}},{key:"floor",value:function(){return new e(Math.floor(this.x),Math.floor(this.y))}},{key:"round",value:function(){return new e(Math.fround(this.x),Math.fround(this.y))}},{key:"abs",value:function(){return new e(Math.abs(this.x),Math.abs(this.y))}},{key:"distance",value:function(e,t){return Math.sqrt(this.distanceSquared(e,t))}},{key:"distanceSquared",value:function(t,n){var r=e.from(t,n);return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)+Math.pow(this.z-r.z,2)}},{key:"clone",value:function(){return new e(this.x,this.y)}}])&&i(t.prototype,n),s&&i(t,s),e}();function a(e,t,n){return(a=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activities=[],this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.mouseVec=new s,this.elapsedSecs=0,this.lastUpdate=-1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.canvas.onclick=function(e){if(0===e.button){var t=a(s,l(n.canvas.calcMousePoint(e,1024)));n.activities.slice().reverse().some((function(e){return e.mouseClick(t,t.add(e.camera))}))}},this.canvas.onmousemove=function(e){n.mouseVec=a(s,l(n.canvas.calcMousePoint(e,1024)))}}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this,t=Date.now();if(-1!==this.lastUpdate){var n=-1===this.lastUpdate?0:t-this.lastUpdate;this.ctx.fillRect(0,0,this.width,this.height),this.activities=this.activities.filter((function(t,r){return!t.isDestroyed&&(t.update(n),t.render(e.ctx),!0)}))}this.lastUpdate=t,this.activities.slice().reverse().some((function(t){return t.mouseHover(e.mouseVec,e.mouseVec.add(t.camera))})),requestAnimationFrame(this.update.bind(this))}},{key:"addActivity",value:function(e){this.activities.push(e)}},{key:"width",get:function(){return this.canvas?this.canvas.width:0}},{key:"height",get:function(){return this.canvas?this.canvas.height:0}}])&&h(t.prototype,n),r&&h(t,r),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hidden=!1,this._absolute=!1,this._scale=1,this._rotate=0,this._hue=0,this._brightness=1,this._contrast=1,this._grayscale=!1,this._drawBox=null}var t,n,r;return t=e,r=[{key:"hidden",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).hidden(t)}},{key:"absolute",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).absolute(t)}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).scale(t)}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).rotate(t)}},{key:"hue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).hue(t)}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).brightness(t)}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).contrast(t)}},{key:"grayscale",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).grayscale(t)}},{key:"drawBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(new e).drawBox(t)}}],(n=[{key:"hidden",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=e,this}},{key:"absolute",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._absolute=e,this}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._scale=e,this}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._rotate=e,this}},{key:"hue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._hue=e,this}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._brightness=e,this}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._contrast=e,this}},{key:"grayscale",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._grayscale=e,this}},{key:"drawBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._drawBox=e,this}},{key:"applyFilter",value:function(e){var t="none"===e.filter?"":e.filter;0!==this._rotate&&e.rotate(-this._rotate),0!==this._hue&&(t+=" hue-rotate(".concat(this._hue,"deg) ")),1!==this._brightness&&(t+=" brightness(".concat(this._brightness,") ")),1!==this._contrast&&(t+=" contrast(".concat(this._contrast,") ")),this._grayscale&&(t+=" grayscale(1) "),this._drawBox&&(e.rect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY),e.clip(),e.clearRect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY)),e.filter=t}}])&&d(t.prototype,n),r&&d(t,r),e}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;v(this,e),this.children=[],this.isDestroyed=!1,this.onUpdate=function(e,t){},this.onRender=function(e,t){},this.onDestroy=function(e){},this.onMouseClick=function(e,t,n){return!1},this.onMouseHover=function(e,t,n){return!1},this.onMouseHoverOut=function(e){},this.setRenderOption(t),this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){}},{key:"update",value:function(e){this.children=this.children.filter((function(t,n){return!t.isDestroyed&&(t.update(e),!0)})),this.hoverOutDelay>0&&(this.hoverOutDelay-=e,this.hoverOutDelay<=0&&(this.hoverOutDelay=0,this.onMouseHoverOut(this))),this.onUpdate(e,this)}},{key:"render",value:function(e){if(!this.isDestroyed&&!this.isHidden()){if(e.save(),this.renderOption.applyFilter(e),this.children.forEach((function(t){e.save(),t.render(e),e.restore()})),this.onRender(e,this),new URLSearchParams(window.location.search).get("renderBoundingBox")){var t=this.getBoundingBox();t&&(e.beginPath(),e.moveTo(t.minX,t.minY),e.lineTo(t.minX,t.maxY),e.lineTo(t.maxX,t.maxY),e.lineTo(t.maxX,t.minY),e.closePath(),e.stroke())}e.restore()}}},{key:"mouseClick",value:function(e,t){if(this.isDestroyed)return!1;var n=this.getBoundingBox();return!(!n||!n.isVectorInside(this.isAbsolute()?e:t))&&(this.onMouseClick(e,t,this)||-1!==this.children.slice().reverse().findIndex((function(n){return n.mouseClick(e,t)})))}},{key:"mouseHover",value:function(e,t){if(this.isDestroyed)return!1;var n=this.getBoundingBox();return!(!n||!n.isVectorInside(this.isAbsolute()?e:t))&&(this.hoverOutDelay=20,this.onMouseHover(e,t,this)||-1!==this.children.slice().reverse().findIndex((function(n){return n.mouseHover(e,t)})))}},{key:"destroy",value:function(){this.isDestroyed=!0,this.onDestroy(this)}},{key:"setOnUpdate",value:function(e){return this.onUpdate=e,this}},{key:"setOnRender",value:function(e){return this.onRender=e,this}},{key:"setOnMouseClick",value:function(e){return this.onMouseClick=e,this}},{key:"setOnMouseHover",value:function(e){return this.onMouseHover=e,this}},{key:"setOnMouseHoverOut",value:function(e){return this.onMouseHoverOut=e,this}},{key:"setRenderOption",value:function(e){return this.renderOption=e||new y,this}},{key:"isAbsolute",value:function(){return this.renderOption._absolute}},{key:"isHidden",value:function(){return this.renderOption._hidden}},{key:"isHover",value:function(){return this.hoverOutDelay>0}},{key:"getScale",value:function(){return this.renderOption._scale}},{key:"getDrawBox",value:function(){return this.renderOption._drawBox}},{key:"getBoundingBox",value:function(){return null}}])&&m(t.prototype,n),r&&m(t,r),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.min=new s(Math.min(t.x,n.x),Math.min(t.y,n.y)),this.max=new s(Math.max(t.x,n.x),Math.max(t.y,n.y))}var t,n,r;return t=e,r=[{key:"from",value:function(t,n,r,o){return new e(s.from(t,r),s.from(void 0===n?t:n,void 0===o?r:o))}}],(n=[{key:"isInside",value:function(e,t){return this.min.x<e&&this.max.x>e&&this.min.y<t&&this.max.y>t}},{key:"isVectorInside",value:function(e){return this.min.x<e.x&&this.max.x>e.x&&this.min.y<e.y&&this.max.y>e.y}},{key:"add",value:function(t,n){var r=s.from(t,n);return new e(this.min.add(r),this.max.add(r))}},{key:"subtract",value:function(t,n){var r=s.from(t,n);return new e(this.min.subtract(r),this.max.subtract(r))}},{key:"expand",value:function(t,n){var r=s.from(t,n);return new e(this.min.subtract(r),this.max.add(r))}},{key:"contract",value:function(t,n){var r=s.from(t,n);return new e(this.min.add(r),this.max.subtract(r))}},{key:"floor",value:function(){return e.from(this.min.floor(),this.max.floor())}},{key:"clone",value:function(){return e.from(this.min,this.max)}},{key:"minX",get:function(){return this.min.x}},{key:"minY",get:function(){return this.min.y}},{key:"maxX",get:function(){return this.max.x}},{key:"maxY",get:function(){return this.max.y}},{key:"xLength",get:function(){return this.max.x-this.min.x}},{key:"yLength",get:function(){return this.max.y-this.min.y}}])&&w(t.prototype,n),r&&w(t,r),e}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).app=e,t.camera=new s(0,0),t}return t=i,(n=[{key:"addWidget",value:function(e){this.children.push(e),e.app=this.app,e.activity=this}},{key:"render",value:function(e){var t=this;this.isDestroyed||this.isHidden()||this.children.forEach((function(n){n.isAbsolute()||(e.save(),e.translate(-t.camera.x,-t.camera.y)),n.render(e),n.isAbsolute()||e.restore()}))}},{key:"getBoundingBox",value:function(){return g.from(0,this.app.canvas)}}])&&O(t.prototype,n),r&&O(t,r),i}(b),E=n.p+"dabbf6f039293f5fb010f850e89e6ea9.png",R=n.p+"48d13a68747f46f4bea77f7edeb9c692.png",M=n.p+"963d9fb14b4767e9fe51e0838781db46.png",B=n.p+"ca4a0837d0daf434187bcad319aee5f0.png",D=n.p+"17e5683a05c9fe1824ad11cbbe19afac.png",I=n.p+"25fea8a198f2a3790636d991374e1260.png",A=n.p+"3df5a9b4e9c2ee05b2724e98d7659e14.png",C=n.p+"f4ae9b0f20451ce02e7fa7f78b3a1622.png",H=n.p+"1d48b48b6ebf621fd4d5d51df21ab142.png";function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=E,L=R,q=M,X={PinkMan:B,MaskMan:D,NinjaFrog:I,VirtualGuy:A},z=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}({},X),{CharacterAppearing:C,CollectedItem:H});function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t,n,r,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.w=t||0,this.h=n||0,this.sx=r||0,this.sy=o||0,this.ox=i||0,this.oy=s||0}var t,n,r;return t=e,r=[{key:"fromJson",value:function(t){return new e(t.w,t.h,t.sx,t.sy,t.ox,t.oy)}}],(n=[{key:"image",get:function(){return this._image||(this._image=new Image),this._image},set:function(e){e instanceof HTMLImageElement?this._image=e:("string"==typeof e||e instanceof String)&&(this._image=new Image,this._image.src=e)}},{key:"setImage",value:function(e){return this.image=e,this}},{key:"update",value:function(e){}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.image.complete&&0!==this.image.naturalHeight){var r=s.from(t);e.save(),e.translate(r.x,r.y),e.drawImage(this.image,this.sx,this.sy,this.w,this.h,-this.ox*n/2,-this.oy*n/2,this.w*n,this.h*n),e.restore()}}}])&&Y(t.prototype,n),r&&Y(t,r),e}(),N=n(126),W=n(127),V=n(128),G=n(129),$=n(130),K=n(131);function Q(e,t){var n=new Map;return t.forEach((function(t){n.set(t.hasOwnProperty("name")?t.name:n.size,J.fromJson(t).setImage(e))})),n}var Z=Q(U,N),ee=Q(L,W),te=Q(q,V);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=le(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n,r){return(ce="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var o,i=le(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,t,o)}else!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,t,n);return!0})(e,t,n,r)}function le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(i,e);var t,n,r,o=se(i);function i(e,t){var n,r,s=t.fps,a=t.w,u=t.h,c=t.ox,l=t.oy,f=t.sx,h=t.sy,p=t.count;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n,r,o){if(!ce(e,t,n,r||e)&&o)throw new Error("failed to set property")}((n=ue(r=o.call(this,a,u,f,h,c,l)),fe(i.prototype)),"image",e,n,!0),r.frames=[],r.count=0,r.fps=s,r.loop=-1,r.elapsedSecs=0,r.onAnimationEnd=null;for(var d=0;d<p;++d)r.frames[d]=new J(a,u,f+d*a,h,c,l).setImage(e),++r.count;return r}return t=i,(n=[{key:"setImage",value:function(e){var t=this;return oe(fe(i.prototype),"setImage",this).call(this,e),this.frames.forEach((function(e){return e.image=t.image})),this}},{key:"frame",get:function(){var e=this.frames[Math.floor(this.elapsedSecs/this.fps)];return e||(0!==this.loop?(-1!==this.loop&&--this.loop,this.elapsedSecs=0,e=this.frames[0]):(e=this.frames[this.frames.length-1],this.onAnimationEnd&&this.onAnimationEnd(this))),e||null}},{key:"setFps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;return this.fps=e,this}},{key:"setLoop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this.loop=e,this}},{key:"setOnAnimationEnd",value:function(e){return this.onAnimationEnd=e,this}},{key:"update",value:function(e){this.elapsedSecs+=e}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.frame;null!==r&&r.draw(e,t,n)}},{key:"reset",value:function(){this.elapsedSecs=0}},{key:"clone",value:function(){return new i(this.image,this)}}])&&re(t.prototype,n),r&&re(t,r),i}(J),pe=function(e){return new he(e,K.idle)},de=function(e){return new he(e,K.run)},ye=function(e){return new he(e,K.hit)},ve=function(){return new he(z.CharacterAppearing,$.in)},me=function(){return new he(z.CharacterAppearing,$.out)},be=new he(z.CollectedItem,G);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(i,e);var t,n,r,o=ke(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ge(this,i),(e=o.call(this,n)).app=null,e.activity=null,e.setPos(t),e}return t=i,(n=[{key:"setPos",value:function(e){return this.pos=e||new s(0,0),this}}])&&xe(t.prototype,n),r&&xe(t,r),i}(b);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(i,e);var t,n,r,o=Be(i);function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ee(this,i),(n=o.call(this,e,r)).text=t,n}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){for(var n=e.getScale()/2,r=8*n,o=10*n,i=e.text.split("\n"),s=i.length,a=0;a<s;++a)for(var u=i[a],c=u.length,l=0;l<c;++l){var f=Z.get(u.charAt(l).toLowerCase());f&&f.draw(t,e.pos.subtract((c-2*l)*r,(s-2*a)*o),e.getScale())}}}},{key:"getBoundingBox",value:function(){var e=this.text.split("\n"),t=e.reduce((function(e,t){return Math.max(e,t.length)}),0),n=new s(8*t,10*e.length).multiply(this.getScale()/2);return g.from(this.pos).expand(n)}},{key:"setText",value:function(e){return this.text=e,this}}])&&Re(t.prototype,n),r&&Re(t,r),i}(Se);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(i,e);var t,n,r,o=Ue(i);function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return He(this,i),(n=o.call(this,e,r)).sprite=t,n}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){if(e.sprite&&e.sprite.image&&e.sprite.image.complete){var n=s.from(e.sprite).multiply(e.getScale()/2);e.sprite.draw(t,e.pos.subtract(n),e.getScale())}},this.onUpdate=function(t){e.sprite.update(t)}}},{key:"getBoundingBox",value:function(){if(!this.sprite)return null;var e=s.from(this.sprite).multiply(this.getScale()/2);return g.from(this.pos.subtract(new s(this.sprite.ox,this.sprite.oy).multiply(this.getScale()/2))).expand(e)}},{key:"setSprite",value:function(e){return this.sprite=e,this}}])&&Fe(t.prototype,n),r&&Fe(t,r),i}(Se);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=We(i);function i(){return Ye(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){for(var n=(e.getDrawBox()||e.activity.getBoundingBox()).add(e.pos.mod(e.sprite)).expand(s.from(e.sprite).multiply(2)).floor(),r=n.min.x;r<n.max.x;r+=e.sprite.w)for(var o=n.min.y;o<n.max.y;o+=e.sprite.h)e.sprite.draw(t,new s(r,o),e.getScale())}}},{key:"getBoundingBox",value:function(){return this.getDrawBox()}}])&&Je(t.prototype,n),r&&Je(t,r),i}(Xe),Ke=n(50),Qe=n.n(Ke);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=function(e,t){return t.renderOption.scale(t.isHover()?3.3:3)},it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(n,e);var t=tt(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=new $e(null,ee.random()),i=pe(X.PinkMan),a=de(X.PinkMan);i.setLoop(4).setOnAnimationEnd((function(){return u.sprite=a.setLoop(6)})),a.setLoop(6).setOnAnimationEnd((function(){return u.sprite=i.setLoop(4)}));var u=new Xe(s.from(e).multiply(.25,.175),a,y.scale(3)),c=new Ae(s.from(e).multiply(.5,.1),"random race",y.scale(5)),l=new Xe(s.from(e).multiply(.95,.1),te.get("reset"),y.scale(3));if(r.addWidget(o.setOnUpdate((function(e){return o.pos.x-=e/10}))),r.addWidget(u.setOnMouseClick((function(e){i.fps-=3,a.fps-=3,i.fps<0&&(i.fps=100,a.fps=100),r.addWidget(new Ae(e.add(80*Math.random()-40,0)).setText(100===i.fps?"-100":"+3").setRenderOption(y.scale(2).absolute().hue(360*Math.random()).brightness(6).contrast(2)).setOnUpdate((function(e,t){t.pos.y-=e/20,t.pos.y<0&&t.destroy()})))}))),r.addWidget(c),r.addWidget(l.setOnMouseClick((function(){return o.setSprite(ee.random()),u.setSprite(ye(u.sprite.image).setLoop(1).setOnAnimationEnd((function(){u.setSprite(ve().setLoop(0).setOnAnimationEnd((function(){var e=X.randomProperty();i.setImage(e),a.setImage(e),u.sprite=i.setLoop(1)})))}))),!0})).setOnUpdate(ot)),Qe.a.isEnabled){var f=new Xe(l.pos.subtract(72,0),te.get("fullscreen_enter"),y.scale(3));r.addWidget(f.setOnMouseClick((function(){return Qe.a.toggle(document.body)||!0})).setOnUpdate(ot)),Qe.a.on("change",(function(){f.sprite=te.get(Qe.a.isFullscreen?"fullscreen_exit":"fullscreen_enter")}))}for(var h=function(e){var t=new Xe(new s(Math.random()*r.app.canvas.width,r.app.canvas.height));r.addWidget(t.setOnUpdate((function(e){var n;(null===(n=t.getBoundingBox())||void 0===n?void 0:n.minX)>r.getBoundingBox().maxX&&(t.pos.x=0,t.sprite=null),t.sprite||(t.renderOption.scale(5*Math.random()+2.5),t.sprite=de(X.randomProperty()).setFps(60*Math.random()+30));var o=t.sprite;o.update(e),-1===o.loop&&(t.pos.x+=e/5*(60/o.fps))})).setOnMouseClick((function(){if(-1===t.sprite.loop)return t.setSprite(ye(t.sprite.image).setLoop(0).setOnAnimationEnd((function(){t.setSprite(me().setLoop(0).setOnAnimationEnd((function(){t.pos.x=0,t.sprite=null})))}))),!0})))},p=0;p<30;++p)h();return new URLSearchParams(window.location.search).get("renderMouseClick")&&r.setOnMouseClick((function(e){var t=be.clone().setLoop(0),n=new Xe(e,t);t.setOnAnimationEnd((function(){return n.destroy()})),r.addWidget(n)})),r}return n}(P);document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("canvas");e.width=1024,e.height=576,e.id="game",document.body.append(e);var t=new p(e);t.addActivity(new it(t)),t.update()}))},50:function(e,t,n){
/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(e,n){return new Promise(function(o,i){var s=function(){this.off("change",s),o()}.bind(this);this.on("change",s);var a=(e=e||t.documentElement)[r.requestFullscreen](n);a instanceof Promise&&a.then(s).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[r.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=o[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=o[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}});