!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(d[n]=t[n]);0==--m&&0===b&&S()}(e,n),t&&t(e,n)};var n,r=!0,o="0d3b2022dd7bbd2d5651",i={},a=[],u=[];function c(e){var t=R[e];if(!t)return B;var r=function(r){return t.hot.active?(R[r]?-1===R[r].parents.indexOf(e)&&R[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),B(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return B[e]},set:function(t){B[e]=t}}};for(var i in B)Object.prototype.hasOwnProperty.call(B,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===f&&h("prepare"),b++,B.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===f&&(w[e]||O(e),0===b&&0===m&&S())}},r.t=function(e,t){return 1&t&&(e=r(e)),B.t(e,-2&t)},r}function s(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(d={})[t]=e[t],h("ready");break;case"ready":P(t);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(t)}},check:k,apply:j,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[t]};return n=void 0,r}var l=[],f="idle";function h(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var y,d,p,v,m=0,b=0,w={},g={},x={};function _(e){return+e+""===e?+e:e}function k(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=B.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return h(E()?"ready":"idle"),null;g={},w={},x=e.c,p=e.h,h("prepare");var t=new Promise((function(e,t){y={resolve:e,reject:t}}));d={};return O(0),"prepare"===f&&0===b&&0===m&&S(),t}));var t}function O(e){x[e]?(g[e]=!0,m++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=B.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function S(){h("ready");var e=y;if(y=null,e)if(r)Promise.resolve().then((function(){return j(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&t.push(_(n));e.resolve(t)}}function j(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(r){var u,c,s,l,f;function y(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((l=R[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var u=0;u<l.parents.length;u++){var c=l.parents[u],s=R[c];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(s.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),m(n[c],[i])):(delete n[c],t.push(c),r.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}E();var b={},w=[],g={},k=function(){console.warn("[HMR] unexpected require("+S.moduleId+") to disposed module")};for(var O in d)if(Object.prototype.hasOwnProperty.call(d,O)){var S;f=_(O),S=d[O]?y(f):{type:"disposed",moduleId:O};var j=!1,P=!1,A=!1,I="";switch(S.chain&&(I="\nUpdate propagation: "+S.chain.join(" -> ")),S.type){case"self-declined":r.onDeclined&&r.onDeclined(S),r.ignoreDeclined||(j=new Error("Aborted because of self decline: "+S.moduleId+I));break;case"declined":r.onDeclined&&r.onDeclined(S),r.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+S.moduleId+" in "+S.parentId+I));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(S),r.ignoreUnaccepted||(j=new Error("Aborted because "+f+" is not accepted"+I));break;case"accepted":r.onAccepted&&r.onAccepted(S),P=!0;break;case"disposed":r.onDisposed&&r.onDisposed(S),A=!0;break;default:throw new Error("Unexception type "+S.type)}if(j)return h("abort"),Promise.reject(j);if(P)for(f in g[f]=d[f],m(w,S.outdatedModules),S.outdatedDependencies)Object.prototype.hasOwnProperty.call(S.outdatedDependencies,f)&&(b[f]||(b[f]=[]),m(b[f],S.outdatedDependencies[f]));A&&(m(w,[S.moduleId]),g[f]=k)}var M,C=[];for(c=0;c<w.length;c++)f=w[c],R[f]&&R[f].hot._selfAccepted&&g[f]!==k&&!R[f].hot._selfInvalidated&&C.push({module:f,parents:R[f].parents.slice(),errorHandler:R[f].hot._selfAccepted});h("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)}));var D,T,F=w.slice();for(;F.length>0;)if(f=F.pop(),l=R[f]){var H={},U=l.hot._disposeHandlers;for(s=0;s<U.length;s++)(u=U[s])(H);for(i[f]=H,l.hot.active=!1,delete R[f],delete b[f],s=0;s<l.children.length;s++){var q=R[l.children[s]];q&&((M=q.parents.indexOf(f))>=0&&q.parents.splice(M,1))}}for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)&&(l=R[f]))for(T=b[f],s=0;s<T.length;s++)D=T[s],(M=l.children.indexOf(D))>=0&&l.children.splice(M,1);h("apply"),void 0!==p&&(o=p,p=void 0);for(f in d=void 0,g)Object.prototype.hasOwnProperty.call(g,f)&&(e[f]=g[f]);var L=null;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)&&(l=R[f])){T=b[f];var z=[];for(c=0;c<T.length;c++)if(D=T[c],u=l.hot._acceptedDependencies[D]){if(-1!==z.indexOf(u))continue;z.push(u)}for(c=0;c<z.length;c++){u=z[c];try{u(T)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:f,dependencyId:T[c],error:e}),r.ignoreErrored||L||(L=e)}}}for(c=0;c<C.length;c++){var X=C[c];f=X.module,a=X.parents,n=f;try{B(f)}catch(e){if("function"==typeof X.errorHandler)try{X.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),r.ignoreErrored||L||(L=t),L||(L=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:f,error:e}),r.ignoreErrored||L||(L=e)}}if(L)return h("fail"),Promise.reject(L);if(v)return t(r).then((function(e){return w.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return h("idle"),new Promise((function(e){e(w)}))}(t=t||{})}function E(){if(v)return d||(d={}),v.forEach(P),v=void 0,!0}function P(t){Object.prototype.hasOwnProperty.call(d,t)||(d[t]=e[t])}var R={};function B(t){if(R[t])return R[t].exports;var n=R[t]={i:t,l:!1,exports:{},hot:s(t),parents:(u=a,a=[],u),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}B.m=e,B.c=R,B.d=function(e,t,n){B.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},B.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},B.t=function(e,t){if(1&t&&(e=B(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(B.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)B.d(n,r,function(t){return e[t]}.bind(null,r));return n},B.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return B.d(t,"a",t),t},B.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},B.p="",B.h=function(){return o},c(321)(B.s=321)}({126:function(e){e.exports=JSON.parse('[{"name":"a","w":8,"h":10,"sx":0,"sy":0},{"name":"b","w":8,"h":10,"sx":8,"sy":0},{"name":"c","w":8,"h":10,"sx":16,"sy":0},{"name":"d","w":8,"h":10,"sx":24,"sy":0},{"name":"e","w":8,"h":10,"sx":32,"sy":0},{"name":"f","w":8,"h":10,"sx":40,"sy":0},{"name":"g","w":8,"h":10,"sx":48,"sy":0},{"name":"h","w":8,"h":10,"sx":56,"sy":0},{"name":"i","w":8,"h":10,"sx":64,"sy":0},{"name":"j","w":8,"h":10,"sx":72,"sy":0},{"name":"k","w":8,"h":10,"sx":0,"sy":10},{"name":"l","w":8,"h":10,"sx":8,"sy":10},{"name":"m","w":8,"h":10,"sx":16,"sy":10},{"name":"n","w":8,"h":10,"sx":24,"sy":10},{"name":"o","w":8,"h":10,"sx":32,"sy":10},{"name":"p","w":8,"h":10,"sx":40,"sy":20},{"name":"q","w":8,"h":10,"sx":40,"sy":10},{"name":"r","w":8,"h":10,"sx":48,"sy":10},{"name":"s","w":8,"h":10,"sx":56,"sy":10},{"name":"t","w":8,"h":10,"sx":64,"sy":10},{"name":"u","w":8,"h":10,"sx":72,"sy":10},{"name":"v","w":8,"h":10,"sx":0,"sy":20},{"name":"w","w":8,"h":10,"sx":8,"sy":20},{"name":"x","w":8,"h":10,"sx":16,"sy":20},{"name":"y","w":8,"h":10,"sx":24,"sy":20},{"name":"z","w":8,"h":10,"sx":32,"sy":20},{"name":"0","w":8,"h":10,"sx":0,"sy":30},{"name":"1","w":8,"h":10,"sx":8,"sy":30},{"name":"2","w":8,"h":10,"sx":16,"sy":30},{"name":"3","w":8,"h":10,"sx":24,"sy":30},{"name":"4","w":8,"h":10,"sx":32,"sy":30},{"name":"5","w":8,"h":10,"sx":40,"sy":30},{"name":"6","w":8,"h":10,"sx":48,"sy":30},{"name":"7","w":8,"h":10,"sx":56,"sy":30},{"name":"8","w":8,"h":10,"sx":64,"sy":30},{"name":"9","w":8,"h":10,"sx":72,"sy":30},{"name":".","w":8,"h":10,"sx":0,"sy":40},{"name":",","w":8,"h":10,"sx":8,"sy":40},{"name":":","w":8,"h":10,"sx":16,"sy":40},{"name":"?","w":8,"h":10,"sx":24,"sy":40},{"name":"!","w":8,"h":10,"sx":32,"sy":40},{"name":"(","w":8,"h":10,"sx":40,"sy":40},{"name":")","w":8,"h":10,"sx":48,"sy":40},{"name":"+","w":8,"h":10,"sx":56,"sy":40},{"name":"-","w":8,"h":10,"sx":64,"sy":40}]')},127:function(e){e.exports=JSON.parse('[{"name":"blue","w":64,"h":64,"sx":0,"sy":0},{"name":"brown","w":64,"h":64,"sx":64,"sy":0},{"name":"pink","w":64,"h":64,"sx":128,"sy":0},{"name":"gray","w":64,"h":64,"sx":0,"sy":64},{"name":"green","w":64,"h":64,"sx":64,"sy":64},{"name":"purple","w":64,"h":64,"sx":128,"sy":64},{"name":"yellow","w":64,"h":64,"sx":128,"sy":0}]')},128:function(e){e.exports=JSON.parse('[{"name":"achievements","w":20,"h":20,"sx":0,"sy":0},{"name":"leaderboard","w":20,"h":20,"sx":20,"sy":0},{"name":"settings","w":20,"h":20,"sx":40,"sy":0},{"name":"sound_on","w":20,"h":20,"sx":60,"sy":0},{"name":"sound_off","w":20,"h":20,"sx":80,"sy":0},{"name":"prev","w":20,"h":20,"sx":0,"sy":20},{"name":"next","w":20,"h":20,"sx":20,"sy":20},{"name":"play","w":20,"h":20,"sx":40,"sy":20},{"name":"pause","w":20,"h":20,"sx":60,"sy":20},{"name":"reset","w":20,"h":20,"sx":80,"sy":20},{"name":"fullscreen_enter","w":20,"h":20,"sx":0,"sy":40},{"name":"fullscreen_exit","w":20,"h":20,"sx":20,"sy":40},{"name":"buttons","w":20,"h":20,"sx":40,"sy":40},{"name":"close","w":20,"h":20,"sx":0,"sy":60},{"name":"back","w":20,"h":20,"sx":20,"sy":60},{"name":"death","w":20,"h":20,"sx":40,"sy":60}]')},129:function(e){e.exports=JSON.parse('[{"name":"idle_00","w":32,"h":32,"ox":"15","oy":31,"sx":0,"sy":0},{"name":"idle_01","w":32,"h":32,"ox":"15","oy":31,"sx":32,"sy":0},{"name":"idle_02","w":32,"h":32,"ox":"15","oy":31,"sx":64,"sy":0},{"name":"idle_03","w":32,"h":32,"ox":"15","oy":31,"sx":96,"sy":0},{"name":"idle_04","w":32,"h":32,"ox":"15","oy":31,"sx":128,"sy":0},{"name":"idle_05","w":32,"h":32,"ox":"15","oy":31,"sx":160,"sy":0},{"name":"idle_06","w":32,"h":32,"ox":"15","oy":31,"sx":192,"sy":0},{"name":"idle_07","w":32,"h":32,"ox":"15","oy":31,"sx":224,"sy":0},{"name":"idle_08","w":32,"h":32,"ox":"15","oy":31,"sx":256,"sy":0},{"name":"idle_09","w":32,"h":32,"ox":"15","oy":31,"sx":288,"sy":0},{"name":"idle_10","w":32,"h":32,"ox":"15","oy":31,"sx":320,"sy":0}]')},130:function(e){e.exports=JSON.parse('[{"name":"run_00","w":32,"h":32,"ox":"15","oy":31,"sx":0,"sy":0},{"name":"run_01","w":32,"h":32,"ox":"15","oy":31,"sx":32,"sy":0},{"name":"run_02","w":32,"h":32,"ox":"15","oy":31,"sx":64,"sy":0},{"name":"run_03","w":32,"h":32,"ox":"15","oy":31,"sx":96,"sy":0},{"name":"run_04","w":32,"h":32,"ox":"15","oy":31,"sx":128,"sy":0},{"name":"run_05","w":32,"h":32,"ox":"15","oy":31,"sx":160,"sy":0},{"name":"run_06","w":32,"h":32,"ox":"15","oy":31,"sx":192,"sy":0},{"name":"run_07","w":32,"h":32,"ox":"15","oy":31,"sx":224,"sy":0},{"name":"run_08","w":32,"h":32,"ox":"15","oy":31,"sx":256,"sy":0},{"name":"run_09","w":32,"h":32,"ox":"15","oy":31,"sx":288,"sy":0},{"name":"run_10","w":32,"h":32,"ox":"15","oy":31,"sx":320,"sy":0}]')},321:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o(this,e),"object"===r(t)){var i=e.fromObject(t);this.x=i.x,this.y=i.y}else this.x=t,this.y=n}var t,n,a;return t=e,a=[{key:"from",value:function(t,n){return"object"===r(t)?this.fromObject(t):"number"==typeof t?new e(t,"number"==typeof n?n:t):(console.error("Invalid value given : "),console.error(t),new e)}},{key:"fromObject",value:function(t){return t instanceof e?t:void 0!==t.w&&void 0!==t.h?new e(t.w,t.h):void 0!==t.width&&void 0!==t.height?new e(t.width,t.height):(console.error("Invalid obj given : "),console.error(t),new e)}}],(n=[{key:"add",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x+r.x,this.y+r.y)}},{key:"subtract",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x-r.x,this.y-r.y)}},{key:"multiply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x*r.x,this.y*r.y)}},{key:"divide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x/r.x,this.y/r.y)}},{key:"mod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=e.from(t,n);return new e(this.x%r.x,this.y%r.y)}},{key:"ceil",value:function(){return new e(Math.ceil(this.x),Math.ceil(this.y))}},{key:"floor",value:function(){return new e(Math.floor(this.x),Math.floor(this.y))}},{key:"round",value:function(){return new e(Math.fround(this.x),Math.fround(this.y))}},{key:"abs",value:function(){return new e(Math.abs(this.x),Math.abs(this.y))}},{key:"distance",value:function(e,t){return Math.sqrt(this.distanceSquared(e,t))}},{key:"distanceSquared",value:function(t,n){var r=e.from(t,n);return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)+Math.pow(this.z-r.z,2)}},{key:"clone",value:function(){return new e(this.x,this.y)}}])&&i(t.prototype,n),a&&i(t,a),e}();function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activities=[],this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.elapsedSecs=0,this.lastUpdate=-1,this.ctx.webkitImageSmoothingEnabled=!1,this.ctx.mozImageSmoothingEnabled=!1,this.ctx.imageSmoothingEnabled=!1,this.canvas.onclick=function(e){var t,r=u(n.activities.slice().reverse());try{for(r.s();!(t=r.n()).done;){var o=t.value;if(0!==e.button)break;var i=new a(e.pageX,e.pageY).subtract(n.canvas.offsetLeft,n.canvas.offsetTop).multiply(1024/n.canvas.offsetWidth),c=i.add(o.camera);if(o.click(i,c))break}}catch(e){r.e(e)}finally{r.f()}}}var t,n,r;return t=e,(n=[{key:"update",value:function(){var e=this,t=Date.now();if(-1!==this.lastUpdate){var n=-1===this.lastUpdate?0:t-this.lastUpdate;this.ctx.fillRect(0,0,this.width,this.height),this.activities.forEach((function(t){t.update(n),t.render(e.ctx)}))}this.lastUpdate=t,requestAnimationFrame(this.update.bind(this))}},{key:"addActivity",value:function(e){this.activities.push(e)}},{key:"width",get:function(){return this.canvas?this.canvas.width:0}},{key:"height",get:function(){return this.canvas?this.canvas.height:0}}])&&s(t.prototype,n),r&&s(t,r),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hidden=!1,this._absolute=!1,this._scale=1,this._rotate=0,this._hue=0,this._brightness=1,this._contrast=1,this._grayscale=!1,this._drawBox=null}var t,n,r;return t=e,r=[{key:"hidden",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).hidden(t)}},{key:"absolute",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).absolute(t)}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).scale(t)}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).rotate(t)}},{key:"hue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new e).hue(t)}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).brightness(t)}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(new e).contrast(t)}},{key:"grayscale",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(new e).grayscale(t)}},{key:"drawBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(new e).drawBox(t)}}],(n=[{key:"hidden",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hidden=e,this}},{key:"absolute",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._absolute=e,this}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._scale=e,this}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._rotate=e,this}},{key:"hue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._hue=e,this}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._brightness=e,this}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._contrast=e,this}},{key:"grayscale",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._grayscale=e,this}},{key:"drawBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._drawBox=e,this}},{key:"applyFilter",value:function(e){0!==this._rotate&&e.rotate(-this._rotate),0!==this._hue&&(e.filter+=" hue-rotate(".concat(this._hue,"deg) ")),1!==this._brightness&&(e.filter+=" brightness(".concat(this._brightness,") ")),1!==this._contrast&&(e.filter+=" brightness(".concat(this._contrast,") ")),this._grayscale&&(e.filter+=" grayscale(1) "),this._drawBox&&(e.rect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY),e.clip(),e.clearRect(this._drawBox.minX,this._drawBox.minY,this._drawBox.maxX,this._drawBox.maxY))}}])&&f(t.prototype,n),r&&f(t,r),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;y(this,e),this.children=[],this.setRenderOption(t),this.onUpdate=function(e){},this.onRender=function(e){},this.onClick=function(e,t){return!1},this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){}},{key:"update",value:function(e){this.children.forEach((function(t){t.update(e)})),this.onUpdate&&this.onUpdate(e)}},{key:"render",value:function(e){this.isHidden()||(e.save(),this.renderOption.applyFilter(e),this.children.forEach((function(t){e.save(),t.render(e),e.restore()})),this.onRender&&this.onRender(e),e.restore())}},{key:"click",value:function(e,t){if(!this.onClick)return!1;var n=this.getBoundingBox();return!!n&&!!n.isVectorInside(this.isAbsolute()?e:t)&&this.onClick(e,t,this)}},{key:"setOnUpdate",value:function(e){return this.onUpdate=e,this}},{key:"setOnRender",value:function(e){return this.onRender=e,this}},{key:"setOnClick",value:function(e){return this.onClick=e,this}},{key:"setRenderOption",value:function(e){return this.renderOption=e||new h,this}},{key:"isAbsolute",value:function(){return this.renderOption._absolute}},{key:"isHidden",value:function(){return this.renderOption._hidden}},{key:"getScale",value:function(){return this.renderOption._scale}},{key:"getDrawBox",value:function(){return this.renderOption._drawBox}},{key:"getBoundingBox",value:function(){return null}}])&&d(t.prototype,n),r&&d(t,r),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.min=new a(Math.min(t.x,n.x),Math.min(t.y,n.y)),this.max=new a(Math.max(t.x,n.x),Math.max(t.y,n.y))}var t,n,r;return t=e,r=[{key:"from",value:function(t,n,r,o){return new e(a.from(t,r),a.from(void 0===n?t:n,void 0===o?r:o))}}],(n=[{key:"isInside",value:function(e,t){return this.min.x<e&&this.max.x>e&&this.min.y<t&&this.max.y>t}},{key:"isVectorInside",value:function(e){return this.min.x<e.x&&this.max.x>e.x&&this.min.y<e.y&&this.max.y>e.y}},{key:"add",value:function(t,n){var r=a.from(t,n);return new e(this.min.add(r),this.max.add(r))}},{key:"subtract",value:function(t,n){var r=a.from(t,n);return new e(this.min.subtract(r),this.max.subtract(r))}},{key:"expand",value:function(t,n){var r=a.from(t,n);return new e(this.min.subtract(r),this.max.add(r))}},{key:"contract",value:function(t,n){var r=a.from(t,n);return new e(this.min.add(r),this.max.subtract(r))}},{key:"floor",value:function(){return e.from(this.min.floor(),this.max.floor())}},{key:"clone",value:function(){return e.from(this.min,this.max)}},{key:"minX",get:function(){return this.min.x}},{key:"minY",get:function(){return this.min.y}},{key:"maxX",get:function(){return this.max.x}},{key:"maxY",get:function(){return this.max.y}},{key:"xLength",get:function(){return this.max.x-this.min.x}},{key:"yLength",get:function(){return this.max.y-this.min.y}}])&&v(t.prototype,n),r&&v(t,r),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,r,o=k(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).app=e,t.camera=new a(0,0),t}return t=i,(n=[{key:"addWidget",value:function(e){this.children.push(e),e.app=this.app,e.activity=this}},{key:"render",value:function(e){var t=this;this.isHidden()||this.children.forEach((function(n){n.isAbsolute()||(e.save(),e.translate(-t.camera.x,-t.camera.y)),n.render(e),n.isAbsolute()||e.restore()}))}},{key:"click",value:function(e,t){var n,r=w(this.children.slice().reverse());try{for(r.s();!(n=r.n()).done;)if(n.value.click(e,t))return!0}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getBoundingBox",value:function(){return m.from(0,this.app.canvas)}}])&&x(t.prototype,n),r&&x(t,r),i}(p);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"image",get:function(){return null},set:function(e){}},{key:"setImage",value:function(e){return this}},{key:"update",value:function(e){}},{key:"draw",value:function(e,t){}}])&&E(t.prototype,n),r&&E(t,r),e}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,o=I(i);function i(e,t,n,r,a,u){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this)).w=e||0,c.h=t||0,c.sx=n||0,c.sy=r||0,c.ox=a||0,c.oy=u||0,c}return t=i,r=[{key:"fromJson",value:function(e){return new i(e.w,e.h,e.sx,e.sy,e.ox,e.oy)}}],(n=[{key:"image",get:function(){return this._image||(this._image=new Image),this._image},set:function(e){e instanceof HTMLImageElement?this._image=e:("string"==typeof e||e instanceof String)&&(this._image=new Image,this._image.src=e)}},{key:"setImage",value:function(e){return this.image=e,this}},{key:"update",value:function(e){}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.image.complete&&0!==this.image.naturalHeight){var r=a.from(t);e.save(),e.translate(r.x,r.y),e.drawImage(this.image,this.sx,this.sy,this.w,this.h,-this.ox*n,-this.oy*n,this.w*n,this.h*n),e.restore()}}}])&&B(t.prototype,n),r&&B(t,r),i}(P);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sprites=[],this.names=[],n.forEach((function(e){e.hasOwnProperty("name")&&r.set(e.name,D.fromJson(e).setImage(t))}))}var t,n,r;return t=e,(n=[{key:"set",value:function(e,t){var n=this.sprites.length;return this.sprites[n]=t,this.names[n]=e.toLowerCase(),this}},{key:"get",value:function(e){return this.sprites[this.names.indexOf(e.toLowerCase())]||null}},{key:"random",value:function(){return this.sprites[Math.floor(Math.random()*this.sprites.length)]||null}}])&&T(t.prototype,n),r&&T(t,r),e}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=z(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return U(this,i),(t=o.call(this)).frames=e,t.fps=n,t.loop=r,t.elapsedSecs=0,t.onAnimationEnd=null,t}return t=i,(n=[{key:"w",get:function(){var e=this.frame;return e?e.w:0}},{key:"h",get:function(){var e=this.frame;return e?e.h:0}},{key:"frame",get:function(){var e=this.frames[Math.floor(this.elapsedSecs/this.fps)];return e||(0!==this.loop?(-1!==this.loop&&--this.loop,this.elapsedSecs=0,e=this.frames[0]):(e=this.frames[this.frames.length-1],this.onAnimationEnd&&this.onAnimationEnd(this))),e||null}},{key:"image",get:function(){var e=this.frame;return e?e.image:null},set:function(e){}},{key:"setImage",value:function(e){return this}},{key:"setFps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;return this.fps=e,this}},{key:"setLoop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this.loop=e,this}},{key:"setOnAnimationEnd",value:function(e){return this.onAnimationEnd=e,this}},{key:"update",value:function(e){this.elapsedSecs+=e}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.frame;null!==r&&r.draw(e,t,n)}},{key:"reset",value:function(){this.elapsedSecs=0}},{key:"clone",value:function(){return new i(this.frames,this.fps,this.loop)}}])&&q(t.prototype,n),r&&q(t,r),i}(P),W=n.p+"dabbf6f039293f5fb010f850e89e6ea9.png",Y=n(126),$=n.p+"48d13a68747f46f4bea77f7edeb9c692.png",V=n(127),G=n.p+"963d9fb14b4767e9fe51e0838781db46.png",K=n(128),Q=n.p+"50c1a58658ce9793425dc149c88ea25a.png",Z=n(129),ee=n.p+"8cca5c882f2511108ea562ddb1f14139.png",te=n(130),ne=new F(W,Y),re=new F($,V),oe=new F(G,K),ie={pink_man:{idle:new F(Q,Z),run:new F(ee,te)}},ae={pink_man:{idle:new N(ie.pink_man.idle.sprites),run:new N(ie.pink_man.run.sprites)}};function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,o=fe(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ce(this,i),(e=o.call(this,n)).app=null,e.activity=null,e.setPos(t),e}return t=i,(n=[{key:"setPos",value:function(e){return this.pos=e||new a(0,0),this}}])&&se(t.prototype,n),r&&se(t,r),i}(p);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o=xe(i);function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return be(this,i),(n=o.call(this,e,r)).text=t,n}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){for(var n=e.getScale()/2,r=8*n,o=10*n,i=e.text.split("\n"),a=i.length,u=0;u<a;++u)for(var c=i[u],s=c.length,l=0;l<s;++l){var f=ne.get(c.charAt(l));null!==f&&f.draw(t,e.pos.subtract((s-2*l)*r,(a-2*u)*o),e.getScale())}}}},{key:"getBoundingBox",value:function(){var e,t=this.text.split("\n"),n=0,r=ve(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n<o.length&&(n=o.length)}}catch(e){r.e(e)}finally{r.f()}var i=new a(8*n,10*t.length).multiply(this.getScale()/2);return m.from(this.pos).expand(i)}},{key:"setText",value:function(e){return this.text=e,this}}])&&we(t.prototype,n),r&&we(t,r),i}(de);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(i,e);var t,n,r,o=Re(i);function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return je(this,i),(n=o.call(this,e,r)).drawable=t,n}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){if(e.drawable&&e.drawable.image&&e.drawable.image.complete){var n=a.from(e.drawable).multiply(e.getScale()/2);e.drawable.draw(t,e.pos.subtract(n),e.getScale())}},this.onUpdate=function(t){e.drawable.update(t)}}},{key:"getBoundingBox",value:function(){if(!this.drawable)return null;var e=a.from(this.drawable).multiply(this.getScale()/2);return m.from(this.pos).expand(e)}},{key:"setDrawable",value:function(e){return this.drawable=e,this}}])&&Ee(t.prototype,n),r&&Ee(t,r),i}(de);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(i,e);var t,n,r,o=Fe(i);function i(){return Ce(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"init",value:function(){var e=this;this.onRender=function(t){for(var n=(e.getDrawBox()||e.activity.getBoundingBox()).add(e.pos.mod(e.drawable)).expand(a.from(e.drawable).multiply(2)).floor(),r=n.min.x;r<n.max.x;r+=e.drawable.w)for(var o=n.min.y;o<n.max.y;o+=e.drawable.h)e.drawable.draw(t,new a(r,o),e.getScale())}}},{key:"getBoundingBox",value:function(){return this.getDrawBox()}}])&&De(t.prototype,n),r&&De(t,r),i}(Ie),Le=n(50),ze=n.n(Le);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(n,e);var t=Ne(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);var o=new qe(null,re.random(),h.absolute()),i=ae.pink_man.idle.clone(),u=ae.pink_man.run.clone();i.setLoop(4).setOnAnimationEnd((function(){return c.drawable=u.setLoop(6)})),u.setLoop(6).setOnAnimationEnd((function(){return c.drawable=i.setLoop(4)}));var c=new Ie(a.from(e).multiply(.275,.25),u,h.absolute().scale(3)),s=new Oe(a.from(e).multiply(.5,.1),"random race",h.absolute().scale(5)),l=new Ie(a.from(e).multiply(.95,.1),oe.get("reset"),h.absolute().scale(3));if(r.addWidget(o.setOnUpdate((function(e){return o.pos.x-=e/10}))),r.addWidget(c),r.addWidget(s),r.addWidget(l.setOnClick((function(){return o.setDrawable(re.random())||!0}))),ze.a.isEnabled){var f=new Ie(l.pos.subtract(72,0),oe.get("fullscreen_enter"),h.absolute().scale(3));r.addWidget(f.setOnClick((function(){return ze.a.toggle(document.body)||!0}))),ze.a.on("change",(function(){f.drawable=oe.get(ze.a.isFullscreen?"fullscreen_exit":"fullscreen_enter")}))}return r}return n}(j);document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("canvas");e.width=1024,e.height=576,e.id="game",document.body.append(e);var t=new l(e);t.addActivity(new $e(t)),t.update()}))},50:function(e,t,n){
/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(e,n){return new Promise(function(o,i){var a=function(){this.off("change",a),o()}.bind(this);this.on("change",a);var u=(e=e||t.documentElement)[r.requestFullscreen](n);u instanceof Promise&&u.then(a).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[r.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=o[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=o[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}});